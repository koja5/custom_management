<div *ngIf="!calendarRights"></div>

<div *ngIf="calendarRights" class="control-section">
  <div class="content-wrapper">
    <div class="schedule-overview">
      <div class="overview-header">
        <div class="overview-titlebar">
          <div class="left-panel">
            <div class="schedule-overview-title" style="border: 1px solid transparent" (click)="hideToolbar()">
              <span *ngIf="storeName" style="font-weight: bold">{{ storeName }} |
              </span>
              <p class="show-hide-toolbar">
                {{
                displayToolbar
                ? language.hideToolbarTitle
                : language.showToolbarTitle
                }}
                <span *ngIf="displayToolbar" class="fa fa-chevron-circle-up"></span>
                <span *ngIf="!displayToolbar" class="fa fa-chevron-circle-down"></span>
              </p>
            </div>
          </div>
          <div class="center-panel">
            <!-- <button
              ejs-button
              id="timezoneBtn"
              cssClass="title-bar-btn"
              disabled="true"
              iconCss="e-icons e-schedule-timezone"
            >
              UTC
            </button>
            <button
              ejs-button
              id="timeBtn"
              cssClass="title-bar-btn"
              disabled="true"
              iconCss="e-icons e-schedule-clock"
              [content]="liveTimeUpdate"
            ></button> -->
          </div>
          <div class="right-panel">
            <div class="control-panel">
              <button ejs-button id="printBtn" cssClass="title-bar-btn" iconCss="e-icons e-schedule-print"
                (click)="printCalendar()">
                Print
              </button>
            </div>
            <!-- <div
              class="control-panel"
              style="display: inline-flex; padding-left: 15px"
            >
              <div
                class="e-icons e-schedule-import e-btn-icon e-icon-left"
                style="line-height: 40px"
              ></div>
              <ejs-uploader
                id="icalendar"
                cssClass="calendar-import"
                [multiple]="multiple"
                [buttons]="buttons"
                [showFileList]="showFileList"
                allowedExtensions=".ics"
                (selected)="onSelected($event)"
              ></ejs-uploader>
            </div> -->
            <button ejs-button id="printBtn" cssClass="title-bar-btn" iconCss="e-icons e-schedule-excel-export"
              (click)="exportCalendar()">
              Export to Excel
            </button>
            <!-- <div class="control-panel">
              <button ejs-dropdownbutton id="exporting" [items]="exportItems">
                Export
              </button>
            </div> -->
          </div>
        </div>
        <div class="overview-toolbar" *ngIf="displayToolbar">
          <div style="height: 70px; width: 100%">
            <ejs-toolbar id="toolbar_options" height="70px" overflowMode="Scrollable" scrollStep="100"
              (created)="onToolbarCreated()" (clicked)="onToolbarItemClicked($event)">
              <e-items>
                <!-- <e-item
                prefixIcon="e-icons e-schedule-add-event"
                tooltipText="New Event"
                text="New Event"
              >
              </e-item>
              <e-item
                prefixIcon="e-icons e-schedule-add-recurrence-event"
                tooltipText="New Recurring Event"
                text="New Recurring Event"
              ></e-item>
              <e-item type="Separator"></e-item> -->
                <e-item tooltipText="Filter Event Toolbar" *ngIf="filterToolbarInd">
                  <ng-template #template>
                    <div class="toolbarElement" (click)="showFilterPanel($event)">
                      <div class="icon-child">
                        <div>
                          <span class="fa fa-search"></span>
                        </div>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        {{ language.filterToolbar }}
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item tooltipText="Refresh Event Toolbar">
                  <ng-template #template>
                    <div class="toolbarElement" (click)="refreshEvents()">
                      <div class="icon-child">
                        <div id="settingsBtn">
                          <span class="e-icons e-schedule-add-recurrence-event"></span>
                        </div>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        {{ language.refreshEventToolbar }}
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item type="Separator"></e-item>
                <e-item prefixIcon="e-icons e-schedule-day-view" tooltipText="Day" text="Day"></e-item>
                <e-item prefixIcon="e-icons e-schedule-week-view" tooltipText="Week" text="Week">
                </e-item>
                <e-item prefixIcon="e-icons e-schedule-workweek-view" tooltipText="WorkWeek" text="WorkWeek"></e-item>
                <e-item prefixIcon="e-icons e-schedule-month-view" tooltipText="Month" text="Month">
                </e-item>
                <e-item prefixIcon="e-icons e-schedule-year-view" tooltipText="Year" text="Year">
                </e-item>
                <e-item prefixIcon="e-icons e-schedule-agenda-view" tooltipText="Agenda" text="Agenda">
                </e-item>
                <e-item tooltipText="Timeline Views">
                  <ng-template #template>
                    <div style="height: 46px; line-height: 23px">
                      <div class="icon-child" style="text-align: center">
                        <ejs-switch id="timeline_views" [checked]="false" (change)="onTimelineViewChange($event)">
                        </ejs-switch>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        Timeline Views
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item type="Separator"></e-item>
                <e-item tooltipText="{{ language.settingsToolbar }}">
                  <ng-template #template>
                    <div class="toolbarElement" (click)="onSettingsClick($event)">
                      <div class="icon-child">
                        <div>
                          <span class="e-icons e-schedule-toolbar-settings"></span>
                        </div>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        {{ language.settingsToolbar }}
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item tooltipText="{{
                    language.copyLinkToTheOnlineClinicReservation
                  }}">
                  <ng-template #template>
                    <div class="toolbarElement" (click)="copyLinkToTheClinic()">
                      <div class="icon-child">
                        <div>
                          <span class="fa fa-link"></span>
                        </div>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        {{ language.copyLinkToTheOnlineClinicReservation }}
                      </div>
                    </div>
                  </ng-template>
                </e-item>

                <e-item tooltipText="{{
                  language.lastMinute
                }}">
                  <ng-template #template>
                    <div class="toolbarElement" (click)="onLastMinuteClick()">
                      <div class="icon-child">
                        <div>
                          <span class="fa fa-clock-o"></span>
                        </div>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        {{ language.lastMinute }}
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <!-- <e-item tooltipText="Week Number">
                  <ng-template #template>
                    <div style="height: 46px; line-height: 23px">
                      <div class="icon-child" style="text-align: center">
                        <ejs-switch
                          id="week_number"
                          [checked]="true"
                          (change)="onWeekNumberChange($event)"
                        ></ejs-switch>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        Week Number
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item tooltipText="Resource Grouping">
                  <ng-template #template>
                    <div style="height: 46px; line-height: 23px">
                      <div class="icon-child" style="text-align: center">
                        <ejs-switch
                          id="grouping"
                          [checked]="true"
                          (change)="onGroupingChange($event)"
                        ></ejs-switch>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        Grouping
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item tooltipText="Gridlines">
                  <ng-template #template>
                    <div style="height: 46px; line-height: 23px">
                      <div class="icon-child" style="text-align: center">
                        <ejs-switch
                          id="gridlines"
                          [checked]="true"
                          (change)="onGridlinesChange($event)"
                        ></ejs-switch>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        Gridlines
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item tooltipText="Row Auto Height">
                  <ng-template #template>
                    <div style="height: 46px; line-height: 23px">
                      <div class="icon-child" style="text-align: center">
                        <ejs-switch
                          id="row_auto_height"
                          [checked]="false"
                          (change)="onRowAutoHeightChange($event)"
                        >
                        </ejs-switch>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        Row Auto Height
                      </div>
                    </div>
                  </ng-template>
                </e-item>
                <e-item tooltipText="Tooltip">
                  <ng-template #template>
                    <div style="height: 46px; line-height: 23px">
                      <div class="icon-child" style="text-align: center">
                        <ejs-switch
                          id="tooltip"
                          [checked]="false"
                          (change)="onTooltipChange($event)"
                        ></ejs-switch>
                      </div>
                      <div class="text-child" style="font-size: 14px">
                        Tooltip
                      </div>
                    </div>
                  </ng-template>
                </e-item> -->
              </e-items>
            </ejs-toolbar>
          </div>
        </div>
        <div class="overview-content">
          <div class="right-panel filter-panel hide" [style.height]="height">
            <div class="control-panel e-css">
              <div class="col-row">
                <div>
                  <!-- <label style="line-height: 34px; margin: 0">{{
                    language.selectStore
                  }}</label> -->
                </div>
                <div class="col-sm-12">
                  <!-- <ejs-dropdownlist id='weekFirstDay' width='170px' [dataSource]='store'
                  (change)='selectedStore($event)' [value]='selectedStoreId' [fields]="{text: 'storename', value: 'id'}" popupHeight='150px'>
                </ejs-dropdownlist> -->
                  <kendo-combobox [data]="store" [textField]="'storename'" [valueField]="'id'"
                    [(ngModel)]="selectedStoreId" [valuePrimitive]="true" (valueChange)="selectedStore($event)"
                    [suggest]="true">
                  </kendo-combobox>
                </div>
              </div>
              <div class="col-row mt-2">
                <div>
                  <label style="line-height: 34px; margin: 0">{{
                    language.selectUsers
                    }}</label>
                </div>
                <div class="col-sm-12" *ngIf="usersInCompany">
                  <!-- <ejs-multiselect *ngIf="usersInCompany" #filterUsers id='workWeekDays' width='170px' [dataSource]='usersInCompany' [value]="value" [showClearButton]='false'
                  [showDropDownIcon]='true' [showSelectAll]="true" [mode]='checkboxMode' [fields]="{text: 'shortname', value: 'id'}" popupHeight='150px'
                  (change)='handleValue($event)'></ejs-multiselect> -->
                  <kendo-multiselect [data]="usersInCompany" [textField]="
                      type !== userType.patient ? 'shortname' : 'alias_name'
                    " [valueField]="'id'" [(ngModel)]="value" name="usersInCompany"
                    (valueChange)="handleValue($event)">
                  </kendo-multiselect>
                </div>
              </div>
            </div>
          </div>
          <div class="left-panel" [style.height]="height">
            <div class="overview-scheduler">
              <div *ngIf="loading" class="d-flex-center-column p-3 height-100">
                <div class="fa fa-2x fa-spinner fa-spin"></div>
              </div>
              <div *ngIf="(!loading && !isValidStoreSelected) || !isUserSelected"
                class="d-flex-center-column p-3 height-100">
                <i class="fa fa-search"></i>
                <span>
                  {{this.language.noStoreSelectedIndicatorText}}
                </span>
              </div>
              <ejs-schedule *ngIf="!loading && sharedCalendarResources && isValidStoreSelected && isUserSelected"
                #scheduleObj cssClass="e-control schedule-overview table" height="100%" [(currentView)]="currentView"
                [dateFormat]="dateFormatScheduler" [group]="value ? group : []" [showWeekNumber]="true"
                [eventSettings]="eventSettings" [allowKeyboardInteraction]="
                  type === userType.patient ? false : true
                " (renderCell)="onRenderCell($event)" (actionBegin)="onActionBegin($event)"
                (popupClose)="onPopupClose($event)" (popupOpen)="onPopupOpen($event)" (drag)="onItemDrag($event)"
                (resizeStop)="onItemDrag($event)">
                <ng-template #dateHeaderTemplate let-data>
                  <div class="date-text" title=" {{ getDateHeaderText(data.date) }}">
                    {{ getDateHeaderText(data.date) }}
                  </div>
                </ng-template>
                <e-views>
                  <e-view option="Day">
                    <ng-template #eventTemplate let-data>
                      <div class="event-details" [style.background]="data.color">
                        <div *ngIf="
                            type !== userType.patient ||
                            (type === userType.patient &&
                              data.customer_id === id)
                          ">
                          <div class="eventName">
                            {{ data.title.split("+")[0] }}
                          </div>
                          <div *ngIf="
                              data.title &&
                              data.title.split('+')[2] &&
                              data.title.split('+')[2] !== 'null' &&
                              data.title.split('+')[2] !== 'undefined'
                            " class="eventTitle">
                            {{ data.title.split("+")[2] }}
                          </div>
                          <div *ngIf="data.title && data.title.split('+')[1]" class="eventTitle">
                            {{ data.title.split("+")[1] }}
                          </div>
                        </div>
                        <div class="reserved-title" *ngIf="
                            type === userType.patient && data.customer_id !== id
                          ">
                          {{ language.reserved }}
                        </div>
                      </div>
                      <span *ngIf="data.online === 1" class="fa fa-calendar-plus-o online-icon-reservation"
                        [title]="language.reservationTooltip">
                      </span>
                      <span *ngIf="data.online === 2" class="fa fa-calendar-check-o online-icon-reservation"
                        [title]="language.approvedReservationTooltip"></span>
                      <span *ngIf="data.confirm === 0 && type !== userType.patient"
                        class="fa fa-check-circle-o checkButton notConfirmed" title="{{ language.notConfirmed }}"
                        (click)="sendAgainConfirmMail(data)"></span>
                      <span *ngIf="data.confirm === 1" class="fa fa-check-circle-o checkButton confirmed"
                        title="{{ language.confirmed }}"></span>
                    </ng-template>
                  </e-view>
                  <e-view option="Week">
                    <ng-template #eventTemplate let-data>
                      <div class="event-details" [style.background]="data.color">
                        <div *ngIf="
                            type !== userType.patient ||
                            (type === userType.patient &&
                              data.customer_id === id)
                          ">
                          <div class="eventName" *ngIf="data.title && data.title.split('+')[0]">
                            {{ data.title.split("+")[0] }}
                          </div>
                          <div *ngIf="
                              data.title &&
                              data.title.split('+')[2] &&
                              data.title.split('+')[2] !== 'null' &&
                              data.title.split('+')[2] !== 'undefined'
                            " class="eventTitle">
                            {{ data.title.split("+")[2] }}
                          </div>
                          <div *ngIf="data.title && data.title.split('+')[1]" class="eventTitle">
                            {{ data.title.split("+")[1] }}
                          </div>
                        </div>
                        <div class="reserved-title" *ngIf="
                            type === userType.patient && data.customer_id !== id
                          ">
                          {{ language.reserved }}
                        </div>
                      </div>
                      <span *ngIf="data.online === 1" class="fa fa-calendar-plus-o online-icon-reservation"
                        [title]="language.reservationTooltip">
                      </span>
                      <span *ngIf="data.online === 2" class="fa fa-calendar-check-o online-icon-reservation"
                        [title]="language.approvedReservationTooltip"></span>
                      <span *ngIf="data.confirm === 0" class="fa fa-check-circle-o checkButton notConfirmed"
                        title="{{ language.notConfirmed }}" (click)="sendAgainConfirmMail(data)"></span>
                      <span *ngIf="data.confirm === 1" class="fa fa-check-circle-o checkButton confirmed"
                        title="{{ language.confirmed }}"></span>
                    </ng-template>
                  </e-view>
                  <e-view option="WorkWeek">
                    <ng-template #eventTemplate let-data>
                      <div class="event-details" [style.background]="data.color">
                        <div
                          *ngIf="type !== userType.patient || (type === userType.patient && data.customer_id === id)">
                          <div class="eventName">
                            {{ data.title.split("+")[0] }}
                          </div>
                          <div
                            *ngIf="data.title && data.title.split('+')[2] && data.title.split('+')[2] !== 'undefined' && data.title.split('+')[2] !== 'null'"
                            class="eventTitle">
                            {{ data.title.split("+")[2] }}
                          </div>
                          <div
                            *ngIf="data.title && data.title.split('+')[1] && data.title.split('+')[1] !== 'undefined' && data.title.split('+')[1] !== 'null'"
                            class="eventTitle">
                            {{ data.title.split("+")[1] }}
                          </div>
                        </div>
                        <div class="reserved-title" *ngIf="type === userType.patient && data.customer_id !== id">
                          {{ language.reserved }}
                        </div>
                      </div>
                      <span *ngIf="data.online === 1" class="fa fa-calendar-plus-o online-icon-reservation"
                        [title]="language.reservationTooltip">
                      </span>
                      <span *ngIf="data.online === 2" class="fa fa-calendar-check-o online-icon-reservation"
                        [title]="language.approvedReservationTooltip"></span>
                      <span *ngIf="data.confirm === 0" class="fa fa-check-circle-o checkButton notConfirmed"
                        title="{{ language.notConfirmed }}" (click)="sendAgainConfirmMail(data)"></span>
                      <span *ngIf="data.confirm === 1" class="fa fa-check-circle-o checkButton confirmed"
                        title="{{ language.confirmed }}"></span>
                    </ng-template>
                  </e-view>
                  <e-view option="Month"></e-view>
                  <e-view option="Year"></e-view>
                  <e-view option="Agenda"></e-view>
                  <e-view option="TimelineDay"></e-view>
                  <e-view option="TimelineWeek"></e-view>
                  <e-view option="TimelineWorkWeek"></e-view>
                  <e-view option="TimelineMonth"></e-view>
                  <e-view option="TimelineYear"></e-view>
                </e-views>
                <e-resources *ngIf="value">
                  <e-resource *ngIf="sharedCalendarResources" field="creator_id" title="sharedCalendar"
                    [dataSource]="sharedCalendarResources" [allowMultiple]="allowMultiple" name="sharedCalendar"
                    [textField]="
                      type !== userType.patient ? 'shortname' : 'alias_name'
                    " idField="id">
                  </e-resource>
                </e-resources>
                <!-- Header template -->
                <!-- <ng-template #quickInfoTemplatesHeader let-data>
                <div class="quick-info-header">
                  <div class="quick-info-header-content" [ngStyle]="getHeaderStyles(data)">
                    <div class="quick-info-title">{{getHeaderTitle(data)}}</div>
                    <div class="duration-text">{{getHeaderDetails(data)}}</div>
                  </div>
                </div>
              </ng-template> -->
                <!-- Content Template -->
                <!-- <ng-template #quickInfoTemplatesContent let-data>
                <ng-container [ngTemplateOutlet]="data.elementType == 'cell' ? cellContent : eventContent"
                  [ngTemplateOutletContext]="{data:data}"></ng-container>
              </ng-template>
              <ng-template #cellContent let-data="data">
                <div class="quick-info-content">
                  <div class="e-cell-content">
                    <div class="content-area">
                      <ejs-textbox #titleObj id="title" placeholder="Title"></ejs-textbox>
                    </div>
                    <div class="content-area">
                      <ejs-dropdownlist id='eventType' #eventTypeObj [dataSource]='resourceDataSource'
                        [fields]='calendarFields' placeholder='Choose Type' [value]='calendarsValue[0]'
                        popupHeight="150pc">
                      </ejs-dropdownlist>
                    </div>
                    <div class="content-area">
                      <ejs-textbox #notesObj id="notes" placeholder="Notes"></ejs-textbox>
                    </div>
                  </div>
                </div>
              </ng-template> -->
                <!-- <ng-template #eventContent let-data="data">
                <div class="quick-info-content" [style.background]="red">
                  <div class="event-content">
                    <div class="meeting-type-wrap">
                      <label>Complaint</label>:
                      <span>{{data.title.split('+')[1]}}</span>
                    </div>
                    <div class="meeting-subject-wrap">
                      <label>Telephone</label>:
                      <span>{{data.telephone}}</span>
                    </div>
                    <div class="notes-wrap">
                      <label>Notes</label>:
                      <span>{{data.Description}}</span>
                    </div>
                  </div>
                </div>
              </ng-template> -->
                <!-- Footer Template -->
                <!-- <ng-template #quickInfoTemplatesFooter let-data>
                <ng-container [ngTemplateOutlet]="data.elementType == 'cell' ? cellFooter : eventFooter"
                  [ngTemplateOutletContext]="{data:data}"></ng-container>
              </ng-template> -->
                <ng-template #quickInfoTemplatesContent let-data>
                  <div *ngIf="data.elementType == 'event'" class="e-event-content">
                    <div class="start-time">
                      {{ language.start }}:
                      {{ data.StartTime.toLocaleString() }}
                    </div>
                    <div class="end-time">
                      {{ language.end }}: {{ data.EndTime.toLocaleString() }}
                    </div>
                    <div *ngIf="data.telephone" class="location">
                      {{ language.telephone }}: {{ data.telephone }}
                      <div class="text-center mt-4">
                        <a class="btn btn-success" href="tel:{{ data.telephone }}"><span
                            class="fa fa-phone mr-2"></span>
                          {{ language.call }} {{ data.telephone }}</a>
                      </div>
                    </div>
                    <div *ngIf="data.mobile" class="location">
                      {{ language.mobile }}: {{ data.mobile }}
                      <div class="text-center mt-4">
                        <a class="btn btn-success" href="tel:{{ data.mobile }}"><span class="fa fa-phone mr-2"></span>
                          {{ language.call }} {{ data.mobile }}</a>
                      </div>
                    </div>
                  </div>
                </ng-template>
                <ng-template #cellFooter let-data="data">
                  <div class="e-cell-footer">
                    <button ejs-button id="more-details" cssClass="e-flat" (click)="buttonClickActions($event)">
                      More Details
                    </button>
                    <button ejs-button id="add" cssClass="e-flat" [isPrimary]="true"
                      (click)="buttonClickActions($event)">
                      Add
                    </button>
                  </div>
                </ng-template>
                <ng-template #eventFooter let-data="data">
                  <div class="e-event-footer">
                    <button ejs-button id="delete" cssClass="e-flat" (click)="buttonClickActions($event)">
                      Delete
                    </button>
                    <button ejs-button id="more-details" cssClass="e-flat" [isPrimary]="true"
                      (click)="buttonClickActions($event)">
                      More Details
                    </button>
                  </div>
                </ng-template>
                <ng-template #editorTemplate let-data>
                  <div *ngIf="!createFormLoading">
                    <div class="spinner loading" style="left: 47% !important"></div>
                  </div>
                  <div [ngClass]="!createFormLoading ? 'blur-form' : ''">
                    <div class="k-form-field" style="text-align: center; margin: 0px !important">
                      <div *ngIf="type !== userType.patient" class="col-sm-6" style="margin-bottom: 2vh">
                        <div class="mgbt-xs-0">
                          <label class="col-xs-12  p-0 control-label" style="color: red; text-align: left">{{
                            languageUser.attention }}:</label>
                          <textarea kendoTextArea class="col-xs-12 textAreaInput"
                            [(ngModel)]="customerUser.attention">{{ customerUser.attention }}</textarea>

                          <!-- col-sm-10 -->
                        </div>
                      </div>
                      <div *ngIf="type !== userType.patient" class="col-sm-6" style="margin-bottom: 2vh">
                        <div class="mgbt-xs-0">
                          <label class="col-xs-12 p-0 control-label" style="text-align: left">{{
                            languageUser.physicalComplaint }}:</label>
                          <textarea kendoTextArea class="col-xs-12 textAreaInput"
                            [(ngModel)]="customerUser.physicalComplaint">{{ customerUser.physicalComplaint }}</textarea>
                          <!-- col-sm-10 -->
                        </div>
                      </div>
                    </div>
                    <div *ngIf="type !== userType.patient" class="k-form-field">
                      <div class="mb-3 center">
                        <button kendoButton [icon]="'user'" [primary]="true" class="patient-options"
                          (click)="newCustomer()">
                          {{ languageUser.newCustomer }}
                        </button>

                        <button kendoButton [icon]="'k-icon k-i-information'" class="ml-2 patient-options"
                          [primary]="true" (click)="baseDataForUser()" *ngIf="baseDataIndicator">
                          {{ languageUser.baseDate }}
                        </button>
                      </div>

                      <div style="width: 100%">
                        <kendo-textbox-container floatingLabel="{{ languageUser.patient }}({{ language.required }})">
                          <kendo-combobox required #fieldName1 id="customerUsers" [suggest]="true"
                            [data]="customerUsers" [textField]="'shortname'" [valueField]="'id'"
                            (valueChange)="onValueChange($event)" [(ngModel)]="customerUser" [filterable]="true"
                            (filterChange)="searchCustomer($event)" [loading]="customerLoading">
                            <ng-template kendoComboBoxItemTemplate let-dataItem>
                              <p style="height: 50px !important">
                                <span style="font-weight: bold">{{
                                  dataItem.shortname
                                  }}</span>
                                <br />
                                <span class="customerInfo" *ngIf="dataItem.city !== ''">
                                  {{ dataItem.city }}</span>
                                <span class="customerInfo" *ngIf="dataItem.street !== ''">/{{ dataItem.street }}</span>
                              </p>
                            </ng-template>
                          </kendo-combobox>
                        </kendo-textbox-container>
                        <mat-error *ngIf="checkIfInputValueValid(customerUser?.id, 'customerUsers')">{{
                          language?.thisFieldIsRequired }}</mat-error>
                      </div>
                    </div>
                    <div class="k-form-field">
                      <kendo-textbox-container floatingLabel="{{ languageUser.complaintValue }}">
                        <kendo-multiselect [data]="complaintValue" [textField]="'title'" [valueField]="'id'"
                          [(ngModel)]="selectedComplaint" name="complaint" [valuePrimitive]="true"
                          [disabled]="patientReadOnly">
                        </kendo-multiselect>
                      </kendo-textbox-container>
                    </div>
                    <div *ngIf="type !== userType.patient" class="k-form-field">
                      <kendo-textbox-container floatingLabel="{{ languageUser.therapyValue }}">
                        <kendo-multiselect [data]="therapyValue" [textField]="'title'" [valueField]="'id'"
                          [(ngModel)]="selectedTherapies" name="therapies" [valuePrimitive]="true">
                        </kendo-multiselect>
                      </kendo-textbox-container>
                    </div>
                    <div class="k-form-field">
                      <kendo-textbox-container floatingLabel="{{ languageUser.treatmentValue }}">
                        <kendo-multiselect [data]="treatmentValue" [textField]="'title'" [valueField]="'id'"
                          [(ngModel)]="selectedTreatments" name="therapies_previous" [valuePrimitive]="true"
                          [disabled]="patientReadOnly">
                        </kendo-multiselect>
                      </kendo-textbox-container>
                    </div>
                    <div class="k-form-field mt-2">
                      <label class="col-xs-12 p-0 control-label" style="text-align: left">{{
                        languageUser.comment }}</label>
                      <textarea kendoTextArea type="text" class="col-md-12 col-xs-12 textAreaInput" name="comment"
                        [(ngModel)]="complaintData.comment" comment.value=""
                        [disabled]="patientReadOnly"></textarea>
                    </div>
                    <div *ngIf="type !== userType.patient" class="k-form-field">
                      <div>
                        <kendo-textbox-container floatingLabel="{{ languageUser.cs }}">
                          <kendo-combobox class="col-md-12 col-xs-12 noPadding" [data]="CSValue" [textField]="'title'"
                            [valueField]="'id'" [(ngModel)]="complaintData.cs" (valueChange)="onValueChangeCS($event)"
                            [valuePrimitive]="true">
                          </kendo-combobox>
                        </kendo-textbox-container>
                      </div>

                      <div>
                        <kendo-textbox-container floatingLabel="{{ languageUser.stateValue }}">
                          <kendo-combobox class="col-md-12 col-xs-12 noPadding" [data]="stateValue"
                            [textField]="'title'" [valueField]="'id'" [(ngModel)]="complaintData.state"
                            [valuePrimitive]="true">
                          </kendo-combobox>
                        </kendo-textbox-container>
                      </div>

                      <div>
                        <kendo-textbox-container floatingLabel="{{ languageUser.em }}">
                          <kendo-combobox class="col-md-12 col-xs-12 noPadding" [data]="allUsers"
                            [textField]="'shortname'" [valueField]="'id'" (valueChange)="onValueUserEmChange($event)"
                            [(ngModel)]="selectedUser">
                          </kendo-combobox>
                        </kendo-textbox-container>
                      </div>
                    </div>
                    <div class="k-form-field" [ngClass]="type === userType.patient ? 'hide' : ''">
                      <kendo-textbox-container floatingLabel="{{ language.eventCategory }}">
                        <kendo-combobox [data]="eventCategory" [textField]="'category'" [valuePrimitive]="true"
                          [valueField]="'id'" (valueChange)="selectedEventCategory($event)" [(ngModel)]="selected"
                          [disabled]="patientReadOnly">
                        </kendo-combobox>
                      </kendo-textbox-container>
                    </div>
                    <div *ngIf="eventTime" class="k-form-field k-datetime-picker-wrapper row">
                      <div class="col-sm-8">
                        <kendo-textbox-container floatingLabel="{{ language.start }}({{ language.required }})">
                          <kendo-datepicker id="start" [format]="'dd.MM.yyyy'" class="dateWidth"
                            [(ngModel)]="eventTime.start" required [disabled]="
                              type === userType.patient ? true : false
                            ">
                          </kendo-datepicker>
                        </kendo-textbox-container>
                        <mat-error *ngIf="checkIfInputValid('start')">{{ language?.thisFieldIsRequired }}</mat-error>
                      </div>
                      <div class="col-sm-4">
                        <kendo-textbox-container floatingLabel="{{ language.startTime }}({{ language.required }})">
                          <kendo-timepicker id="startTime" [(ngModel)]="eventTime.start" [disabled]="
                              type === userType.patient ? true : false
                            " required>
                          </kendo-timepicker>
                        </kendo-textbox-container>
                        <mat-error *ngIf="checkIfInputValid('startTime')">{{ language?.thisFieldIsRequired
                          }}</mat-error>
                      </div>
                    </div>
                    <div *ngIf="eventTime" class="k-form-field k-datetime-picker-wrapper row">
                      <div class="col-sm-8">
                        <kendo-textbox-container floatingLabel="{{ language.end }}({{ language.required }})">
                          <kendo-datepicker id="end" [format]="'dd.MM.yyyy'" class="dateWidth"
                            [(ngModel)]="eventTime.end" required [disabled]="
                              type === userType.patient ? true : false
                            ">
                          </kendo-datepicker>
                        </kendo-textbox-container>
                        <mat-error *ngIf="checkIfInputValid('end')">{{ language?.thisFieldIsRequired }}</mat-error>
                      </div>
                      <div class="col-sm-4">
                        <kendo-textbox-container floatingLabel="{{ language.endTime }}({{ language.required }})">
                          <kendo-timepicker id="endTime" [(ngModel)]="eventTime.end" [disabled]="
                              type === userType.patient ? true : false
                            " required>
                          </kendo-timepicker>
                        </kendo-textbox-container>
                        <mat-error *ngIf="checkIfInputValid('endTime')">{{ language?.thisFieldIsRequired }}</mat-error>
                      </div>
                    </div>
                    <div class="k-form-field">
                      <div>
                        <kendo-textbox-container floatingLabel="{{ language.telephone }}">
                          <input kendoTextBox class="k-textbox" [(ngModel)]="telephoneValue" name="telephone" readonly
                            style="width: 100%" [disabled]="patientReadOnly" />
                        </kendo-textbox-container>
                      </div>
                      <div>
                        <kendo-textbox-container floatingLabel="{{ language.mobile }}">
                          <input kendoTextBox class="k-textbox" [(ngModel)]="mobileValue" name="mobile" readonly
                            style="width: 100%" [disabled]="patientReadOnly" />
                        </kendo-textbox-container>
                      </div>
                    </div>
                    <div class="additional-send-option" *ngIf="type !== userType.patient">
                      <div class="expand-label display-inline-block pt-4 font-bold" (click)="expandAdditionalOption()">
                        <span class="{{ expandAdditionalIcon }}"></span>
                        {{ language.additionalSendOptions }}
                      </div>
                      <div *ngIf="expandAddional">
                        <div class="col-sm-12 mt-2 check-option">
                          <input type="checkbox" kendoCheckBox [(ngModel)]="isConfirm" name="isConfirm"
                            style="margin: 0px" />
                          <span style="font-size: 12px">
                            {{ language.confirmMessage }}</span>
                        </div>
                        <div class="col-sm-12 mt-2 check-option">
                          <input type="checkbox" kendoCheckBox [(ngModel)]="reminderViaEmail" name="isConfirm"
                            style="margin: 0px" />
                          <span style="font-size: 12px">
                            {{ language.sendReminderViaEMail }}</span>
                        </div>
                        <div class="col-sm-12 mt-2 check-option">
                          <input type="checkbox" kendoCheckBox [(ngModel)]="reminderViaSMS" name="isConfirm"
                            style="margin: 0px" />
                          <span style="font-size: 12px">
                            {{ language.sendReminderViaSMS }}</span>
                        </div>
                        <div class="row">
                          <div class="col-md-6 pt-3">
                            <app-dynamic-send-sms *ngIf="mobileValue || telephoneValue" [data]="dataForReminder"
                              [buttonTitle]="language.sendSMS" [buttonIcon]="'fa fa-paper-plane'">
                            </app-dynamic-send-sms>
                          </div>
                          <div class="col-md-6 pt-3">
                            <app-dynamic-send-email *ngIf="dataForReminder?.email" [data]="dataForReminder"
                              [buttonTitle]="language.sendEmail" [buttonIcon]="'fa fa-envelope'">
                            </app-dynamic-send-email>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="additional-send-option" *ngIf="type !== userType.patient">
                      <div class="expand-label display-inline-block pt-4 font-bold" (click)="expandPdfOptions()">
                        <span class="{{ expandPdfIcon }}"></span>
                        {{ language.generateInvoice }}
                      </div>
                      <div *ngIf="expandPdf">
                        <div class="row">
                          <div class="col-md-6 pt-3">
                            <button class="btn btn-primary" style="width: 100%" (click)="downloadPDF()">
                              {{ language.exportToPDF }}
                            </button>
                          </div>
                          <div class="col-md-6 pt-3">
                            <button class="btn btn-primary" style="width: 100%" (click)="printPDF()">
                              {{ language.print }}
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-template>
              </ejs-schedule>
              <!-- <ejs-contextmenu
              #menuObj
              cssClass="schedule-context-menu"
              target=".e-schedule"
              [items]="menuItems"
              (beforeOpen)="onContextMenuBeforeOpen($event)"
              (select)="onMenuItemSelect($event)"
            ></ejs-contextmenu> -->
            </div>
          </div>
          <div class="right-panel settings-panel hide" [style.height]="height" *ngIf="!loading">
            <div class="control-panel e-css">
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{
                    language.firstDayOfWeek
                    }}</label>
                </div>
                <div class="col-right">
                  <ejs-dropdownlist id="weekFirstDay" width="170px" [dataSource]="weekDays"
                    (change)="onWeekDayChange($event)" [value]="firstDayOfWeek" [fields]="fields" popupHeight="150px">
                  </ejs-dropdownlist>
                </div>
              </div>
              <!--<div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">Work week</label>
                </div>
                <div class="col-right">
                  <ejs-multiselect
                    id="workWeekDays"
                    width="170px"
                    [dataSource]="weekDays"
                    [showClearButton]="false"
                    [showDropDownIcon]="true"
                    [mode]="checkboxMode"
                    [fields]="fields"
                    popupHeight="150px"
                    [value]="workDays"
                    (change)="onWorkWeekDayChange($event)"
                  ></ejs-multiselect>
                </div>
              </div>
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">Timezone</label>
                </div>
                <div class="col-right">
                  <ejs-dropdownlist
                    id="timezone"
                    width="170px"
                    [dataSource]="timezoneData"
                    (change)="onTimezoneChange($event)"
                    value="Etc/GMT"
                    [fields]="fields"
                    popupHeight="150px"
                  >
                  </ejs-dropdownlist>
                </div>
              </div> -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{
                    language.dayStartHour
                    }}</label>
                </div>
                <div class="col-right">
                  <ejs-timepicker id="dayStartHour" width="170px" showClearButton="false" [value]="dayStartHourValue"
                    (change)="onDayStartHourChange($event)">
                  </ejs-timepicker>
                </div>
              </div>
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{
                    language.dayEndHour
                    }}</label>
                </div>
                <div class="col-right">
                  <ejs-timepicker id="dayEndHour" width="170px" showClearButton="false" [value]="dayEndHourValue"
                    (change)="onDayEndHourChange($event)">
                  </ejs-timepicker>
                </div>
              </div>
              <!-- <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0"
                    >Work Start Hour</label
                  >
                </div>
                <div class="col-right">
                  <ejs-timepicker
                    id="workHourStart"
                    width="170px"
                    showClearButton="false"
                    [value]="workStartHourValue"
                    (change)="onWorkStartHourChange($event)"
                  >
                  </ejs-timepicker>
                </div>
              </div>
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0"
                    >Work End Hour</label
                  >
                </div>
                <div class="col-right">
                  <ejs-timepicker
                    id="workHourEnd"
                    width="170px"
                    showClearButton="false"
                    [value]="workEndHourValue"
                    (change)="onWorkEndHourChange($event)"
                  ></ejs-timepicker>
                </div>
              </div> -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{
                    language.slotDuration
                    }}</label>
                </div>
                <div class="col-right">
                  <ejs-dropdownlist id="slotDuration" width="170px" [dataSource]="timeSlotDuration"
                    [fields]="timeSlotFields" (change)="onTimescaleDurationChange($event)"
                    [value]="timeSlotDurationValue" popupHeight="150px"></ejs-dropdownlist>
                </div>
              </div>
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{
                    language.slotInterval
                    }}</label>
                </div>
                <div class="col-right">
                  <ejs-dropdownlist id="slotInterval" width="170px" [dataSource]="timeSlotCount"
                    (change)="onTimescaleIntervalChange($event)" [value]="timeSlotCountValue" popupHeight="150px">
                  </ejs-dropdownlist>
                </div>
              </div>
              <!-- <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">First day of week</label>
                </div>
                <div class="col-right">
                  <ejs-dropdownlist id="slotInterval" width="170px" [dataSource]="timeSlotCount"
                    (change)="onTimescaleIntervalChange($event)" [value]="timeSlotCountValue" popupHeight="150px">
                  </ejs-dropdownlist>
                </div>
              </div> -->
            </div>
          </div>
          <div class="right-panel last-minute-panel hide" style="width: 600px !important;" [style.height]="height"
            *ngIf="!loading">
            <div class="control-panel e-css">
              <!-- PATIENTS -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{ language.patients }}</label>
                </div>
                <div class="col-right">
                  <kendo-multiselect #msPatients [data]="customerUsers" [(ngModel)]="patients" [valueField]="'id'"
                    name="msPatients" [textField]="type !== userType.patient ? 'shortname' : 'alias_name'">
                  </kendo-multiselect>
                  <mat-error *ngIf="this.patients.length<1 && this.lastMinuteOfferSubmitted">{{
                    language?.thisFieldIsRequired }}</mat-error>
                </div>
              </div>
              <!-- STORE -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{ language.store }}</label>
                </div>
                <div class="col-right">
                  <kendo-combobox [data]="store" [textField]="'storename'" [valueField]="'id'"
                    [(ngModel)]="selectedStoreId" [valuePrimitive]="true" (valueChange)="getUserInCompany($event)"
                    [suggest]="true">
                  </kendo-combobox>
                </div>
              </div>
              <!-- THERAPEUT -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{ language.therapeuts }}</label>
                </div>
                <div class="col-right">
                  <kendo-multiselect #msTherapeuts [data]="usersInCompany" [(ngModel)]="therapeuts"
                    [textField]="type !== userType.patient ? 'shortname' : 'alias_name'" [valueField]="'id'"
                    name="msTherapeuts">
                  </kendo-multiselect>
                  <mat-error *ngIf="this.therapeuts.length<1 && this.lastMinuteOfferSubmitted">{{
                    language?.thisFieldIsRequired }}</mat-error>
                </div>
              </div>
              <!-- EVENT OF WEEK -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{ language.eventDates }}</label>
                </div>
                <div class="col-right">
                  <div class="col-row">
                    <kendo-daterange>
                      <label class="mr-4">
                        <span class="date-range-label"> {{ language.startDateLabel }}</span>
                        <kendo-dateinput format="dd.MM.yyyy" class="full-width" kendoDateRangeStartInput
                          [navigateCalendarOnFocus]="true" [(value)]="lastMinuteStartDate"
                          (valueChange)="checkAvailableDate($event,lastMinuteEndDate)">
                        </kendo-dateinput>
                      </label>
                      <label>
                        <span class="date-range-label"> {{ language.endDateLabel }} </span>
                        <kendo-dateinput format="dd.MM.yyyy" class="full-width" kendoDateRangeEndInput
                          [navigateCalendarOnFocus]="true"
                          (valueChange)="checkAvailableDate(lastMinuteStartDate,$event); popup.toggle();"
                          [(value)]="lastMinuteEndDate">
                        </kendo-dateinput>
                      </label>
                      <kendo-daterange-popup [anchor]="anchor" #popup></kendo-daterange-popup>
                    </kendo-daterange>
                  </div>
                </div>
              </div>
              <!-- DAYS -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{ language.days }}</label>
                </div>
                <div class="col-right">
                  <kendo-multiselect #msDays [data]="lastMinuteWeekDays" [textField]="'text'" [valueField]="'value'"
                    [(ngModel)]="selectedLastMinuteWeekDays" name="msDays">
                  </kendo-multiselect>
                  <mat-error *ngIf="this.selectedLastMinuteWeekDays.length<1 && this.lastMinuteOfferSubmitted">{{
                    language?.thisFieldIsRequired }}</mat-error>
                </div>
              </div>
              <!-- TIME -->
              <div class="col-row">
                <div class="col-left">
                  <label style="line-height: 34px; margin: 0">{{ language.time }}</label>
                </div>
                <div class="col-right">
                  <kendo-multiselect #msLastMinuteTime [data]="lastMinuteTimeSlot" [textField]="'Value'"
                    [valueField]="'Value'" [(ngModel)]="lastMinuteHoursValue" name="msLastMinuteTime">
                  </kendo-multiselect>
                  <mat-error *ngIf="this.lastMinuteHoursValue.length<1 && this.lastMinuteOfferSubmitted">{{
                    language?.thisFieldIsRequired }}</mat-error>
                </div>
              </div>
              <div class="col-row d-flex justify-content-center">
                <button kendoButton [primary]="true" class="form-button" (click)="clearLastMinuteForm()">
                  {{ language.clearLastMinuteOffer}}
                </button>
              </div>
              <div class="col-row d-flex justify-content-center">
                <button kendoButton [primary]="true" class="form-button pull-right" (click)="sendLastMinuteOffer()">
                  {{language.sendLastMinuteOffer}}
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- MODALS -->
  <modal #customerModal (onClose)="closeCustomerModal()" modalClass="modal-lg" [closeOnOutsideClick]="false">
    <modal-header>
      <h4>{{ language.createNewCustomerDialog }}</h4>
    </modal-header>
    <modal-content>
      <form name="loginForm" class="loginForm" (ngSubmit)="createCustomer(customer)" #customerForm="ngForm">
        <div class="form-group">
          <div class="panel-body">
            <div class="text-center vd_info-parent col-md-4 col-xs-12">
              <img *ngIf="data.gender === ''" alt="example image" style="width: 190px"
                src="../../../../assets/images/users/{{ imagePath }}.png" class="rounded-circle" />
              <img *ngIf="data.gender !== '' && data.gender === 'male'" alt="example image" style="width: 190px"
                src="../../../../assets/images/users/male-patient.png" class="rounded-circle" />
              <img *ngIf="data.gender !== '' && data.gender === 'female'" alt="example image" style="width: 190px"
                src="../../../../assets/images/users/female-patient.png" class="rounded-circle" />
              <h2 class="font-semibold">
                {{ data.firstname }} {{ data.lastname }}
              </h2>
            </div>
            <div class="col-md-8 col-xs-12">
              <div class="col-sm-6" style="margin-bottom: 3vh">
                <div class="row mgbt-xs-0">
                  <kendo-textbox-container floatingLabel="{{ language.attention }}">
                    <textarea kendoTextArea [(ngModel)]="data.attention" [autoSize]="true" name="attention"
                      style="width: 95%"></textarea>
                  </kendo-textbox-container>
                </div>
              </div>
              <div class="col-sm-6" style="margin-bottom: 3vh">
                <div class="row mgbt-xs-0">
                  <kendo-textbox-container floatingLabel="{{ language.physicalComplaint }}">
                    <textarea kendoTextArea [(ngModel)]="data.physicalComplaint" [autoSize]="true"
                      name="physicalComplaint" style="width: 95%"></textarea>
                  </kendo-textbox-container>
                </div>
              </div>
              <div>
                <kendo-textbox-container floatingLabel="{{ language.firstname }}({{
                  language.required
                  }})">
                  <input kendoTextBox [(ngModel)]="data.firstname" name="firstname" class="noPadding" required
                    #firstname="ngModel" />
                </kendo-textbox-container>
              </div>
              <div>
                <kendo-textbox-container floatingLabel="{{ language.lastname }}({{
                    language.required
                  }})">
                  <input kendoTextBox [(ngModel)]="data.lastname" name="lastname" class="noPadding" required
                    #lastname="ngModel" />
                </kendo-textbox-container>
              </div>
              <div class="form-group col-md-12 col-xs-12">
                <div class="col-md-6 col-xs-12" style="padding-top: 5px">
                  <p style="font-size: 10px; color: #0000006b">
                    {{ language.gender }}
                  </p>
                  <label class="k-radio-label col-md-6 col-xs-12" for="female">
                    <input type="radio" name="gender" id="female" class="k-radio"
                      checked="data.gender === 'female' ? checked : ''" [(ngModel)]="data.gender" [value]="'female'" />
                    {{ language.female }}</label>
                  <label class="k-radio-label col-md-6 col-xs-12" for="male">
                    <input type="radio" name="gender" id="male" class="k-radio"
                      checked="data.gender === 'male' ? checked : ''" [(ngModel)]="data.gender" [value]="'male'" />
                    {{ language.male }}</label>
                </div>
                <div class="birthday-container col-md-6 col-xs-12">
                  <kendo-textbox-container floatingLabel="{{ language.birthday }}">
                    <kendo-datepicker [format]="'dd.MM.yyyy'" class="email noPadding" name="birthday"
                      [(ngModel)]="data.birthday">
                    </kendo-datepicker>
                  </kendo-textbox-container>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="email col-md-4 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.telephone }}">
              <input kendoTextBox type="text" class="col-xs-12" name="telephone" [(ngModel)]="data.telephone"
                telephone.value="" />
            </kendo-textbox-container>
          </div>
          <div class="email col-md-4 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.mobile }}">
              <input kendoTextBox type="text" class="col-xs-12" name="mobile" [(ngModel)]="data.mobile"
                mobile.value="" />
            </kendo-textbox-container>
          </div>
          <div class="email col-md-4 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.email }}">
              <input kendoTextBox type="email" class="col-xs-12" name="email" [(ngModel)]="data.email" />
            </kendo-textbox-container>
          </div>
          <div class="email col-md-4 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.street }}">
              <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="data.street" name="street" />
            </kendo-textbox-container>
          </div>
          <div class="email col-md-4 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.streetnumber }}">
              <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="data.streetnumber" name="streetnumber" />
            </kendo-textbox-container>
          </div>
          <div class="email col-md-4 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.city }}">
              <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="data.city" name="city" />
            </kendo-textbox-container>
          </div>
        </div>
        <!-- ./remember-row -->
        <div class="form-group" style="text-align: center">
          <button kendoButton [disabled]="customerForm.form.invalid" [primary]="true" class="form-button" type="submit">
            {{ language.createNewCustomer }}
          </button>
        </div>
      </form>
    </modal-content>
    <modal-footer class="modal-footer-none"> </modal-footer>
  </modal>

  <modal #customerUserModal2 (onClose)="closebaseDataForUser()" modalClass="modal-lg" [closeOnOutsideClick]="false">
    <modal-header>
      <h4>{{ language.customerInformationDialog }}</h4>
    </modal-header>
    <modal-content>
      <app-base-date *ngIf="customerUser" [data]="customerUser">
      </app-base-date>
    </modal-content>
    <modal-footer class="modal-footer-none"> </modal-footer>
  </modal>

  <kendo-dialog *ngIf="requestForConfirmArrival" (close)="requestForConfirmArrival = false" [minWidth]="250"
    [width]="365">
    <p style="margin: 30px; text-align: center">
      {{ language.confirmRequestFromClient }}
    </p>
    <kendo-dialog-actions>
      <button kendoButton (click)="requestForConfirmArrivalAnswer('yes')" primary="true">
        {{ language.yes }}
      </button>
      <button kendoButton (click)="requestForConfirmArrival = false">
        {{ language.no }}
      </button>
    </kendo-dialog-actions>
  </kendo-dialog>

  <kendo-dialog *ngIf="modalConfirmEventMove" (close)="modalConfirmEventMove = false; refreshEvents()" [minWidth]="250"
    [width]="365">
    <p style="margin: 30px; text-align: center">
      {{ language.confirmEventMove }}
    </p>
    <kendo-dialog-actions>
      <button kendoButton (click)="onActionBegin(null)" primary="true">
        {{ language.yes }}
      </button>
      <button kendoButton (click)="modalConfirmEventMove = false; refreshEvents()">
        {{ language.no }}
      </button>
    </kendo-dialog-actions>
  </kendo-dialog>

  <!-- END MODALS -->
</div>