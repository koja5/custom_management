<div *ngIf="loading" style="height: 90vh">
  <div class="spinner loading"></div>
</div>

<div *ngIf="!loading">
  <button kendoButton *ngIf="type === 'details'" [primary]="true" style="margin: 1vh" (click)="backToGrid()">
    <i class="fa fa-arrow-left"></i> &nbsp; {{ language.backToGrid }}
  </button>

  <div style="float: right; padding-right: 44px; padding-top: 7px">
    <button kendoButton [icon]="'edit'" (click)="customerOpen()" [primary]="true">
      {{ language.edit }}
    </button>
    <div class="dropdown-grid">
      <button class="btn-grid" style="border-left: 1px solid #2a3582">
        <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content-grid">
        <a (click)="open('dialog')"><span class="k-icon k-i-delete"></span> {{ language.delete }}</a>
        <a (click)="printCustomer()"><span class="k-icon k-i-print"></span> {{ language.print }}</a>
        <a (click)="settingsWindowOpen()"><span class="k-icon k-i-cog"></span> {{ language.settings }}</a>
        <a (click)="sendRecoveryLink()">{{ language.sendPasswordRecovery }}</a>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="data">
    <div class="col-md-12">
      <!-- BEGIN PROFILE SIDEBAR -->
      <div class="profile-sidebar">
        <div class="card card-topline-aqua">
          <div class="card-body no-padding height-9">
            <div class="row">
              <div class="profile-userpic">
                <img [src]="imagePath ? imagePath : (data.gender === 'male' ? maleImg : femaleImg)"
                  class="img-responsive" alt="" />
                <button *ngIf="currentUser?.type == 0 || currentUser?.type == 1" kendoButton [icon]="'edit'"
                  class="edit-button-icon" (click)="updateImage()"></button>
              </div>
            </div>
            <div class="profile-usertitle">
              <div class="profile-usertitle-name">
                <span class="username username-hide-on-mobile">
                  {{ data.lastname }} {{ data.firstname }}
                </span>
              </div>
            </div>
            <ul class="list-group list-group-unbordered">
              <li class="list-group-item">
                <b>{{ language["firstname"] }}</b>
                <span class="pull-right a-color" *ngIf="!data.firstname">{{
                  language["noInformation"]
                  }}</span>
                <span class="pull-right a-color" *ngIf="data.firstname">{{
                  data.firstname
                  }}</span>
              </li>
              <li class="list-group-item">
                <b>{{ language["lastname"] }}</b>
                <span class="pull-right a-color" *ngIf="!data.lastname">{{
                  language["noInformation"]
                  }}</span>
                <span class="pull-right a-color" *ngIf="data.lastname">{{
                  data.lastname
                  }}</span>
              </li>
              <li class="list-group-item">
                <b>{{ language["birthday"] }}</b>
                <span class="pull-right a-color" *ngIf="!data.birthday">{{
                  language["noInformation"]
                  }}</span>
                <span class="pull-right a-color" *ngIf="data.birthday">{{
                  data.birthday | date: "MM/dd/yyyy"
                  }}</span>
              </li>
              <li class="list-group-item">
                <b>{{ language["gender"] }}</b>
                <span class="pull-right a-color" *ngIf="!data.gender">{{
                  language["noInformation"]
                  }}</span>
                <span class="pull-right a-color" *ngIf="data.gender"><i *ngIf="data.gender === 'male'"
                    class="fa fa-mars" style="color: blue"></i><i *ngIf="data.gender === 'female'" class="fa fa-venus"
                    style="color: pink"></i>
                  {{ data.gender }}
                </span>
              </li>
              <li class="list-group-item">
                <b>{{ language.contactPatient }}</b>
                <span class="pull-right a-color" *ngIf="!data.telephone && !data.mobile && !data.email">{{
                  language["noInformation"] }}</span>
                <span class="pull-right a-color">
                  <app-send-sms *ngIf="data.telephone" [phoneNumber]="data.telephone"></app-send-sms>
                </span>
                <span class="pull-right a-color">
                  <app-send-sms *ngIf="data.mobile" [phoneNumber]="data.mobile"></app-send-sms>
                </span>
                <span class="pull-right a-color">
                  <app-send-email *ngIf="data.email" [email]="data.email"></app-send-email>
                </span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- END BEGIN PROFILE SIDEBAR -->
      <!-- BEGIN PROFILE CONTENT -->
      <div class="profile-content">
        <div class="row">
          <div class="card">
            <div class="card-topline-aqua">
              <header></header>
            </div>
            <div class="white-box">
              <div class="tabs widget">
                <ul class="nav nav-tabs widget">
                  <li [ngClass]="currentTab === 'profile' ? 'active' : ''">
                    <a (click)="changeTab('profile')">{{ language.profile }}</a>
                  </li>
                  <li [ngClass]="currentTab === 'base_one' ? 'active' : ''">
                    <a (click)="changeTab('base_one')">{{
                      language.baseOne
                      }}</a>
                  </li>

                  <li [ngClass]="currentTab === 'base_two' ? 'active' : ''">
                    <a (click)="changeTab('base_two')">{{
                      language.baseTwo
                      }}</a>
                  </li>

                  <li [ngClass]="
                      currentTab === 'physical_illness' ? 'active' : ''
                    ">
                    <a (click)="changeTab('physical_illness')">{{
                      language.physicalIllness
                      }}</a>
                  </li>
                </ul>
                <br />
                <!-- Tab panes -->
                <div class="tab-content" *ngIf="currentTab === 'profile'">
                  <div class="tab-pane active fontawesome-demo" id="tab1">
                    <div id="biography">
                      <div class="row loading" *ngIf="data === undefined">
                        <div class="lds-ellipsis">
                          <div></div>
                          <div></div>
                          <div></div>
                          <div></div>
                        </div>
                      </div>
                      <div class="row" *ngIf="data">
                        <div class="col-md-6 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.attention }}">
                              <textarea kendoTextArea *ngIf="
                                  !data.attention
                                " [autoSize]="true" [readonly]="true" [(ngModel)]="language.noInformation"
                                name="attention"></textarea>
                              <textarea kendoTextArea *ngIf="
                                  data.attention !== null &&
                                  data.attention !== undefined &&
                                  data.attention !== ''
                                " [(ngModel)]="data.attention" [autoSize]="true" [readonly]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-6 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.physicalComplaint }}">
                              <textarea kendoTextArea *ngIf="
                                  !data.physicalComplaint
                                " [autoSize]="true" [readonly]="true" [(ngModel)]="language.noInformation"
                                name="physicalComplaint"></textarea>
                              <textarea kendoTextArea *ngIf="
                                  data.physicalComplaint !== null &&
                                  data.physicalComplaint !== undefined &&
                                  data.physicalComplaint !== ''
                                " [(ngModel)]="data.physicalComplaint" [autoSize]="true" [readonly]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-3 col-xs-6 b-r">
                          <br />
                          <kendo-textbox-container floatingLabel="{{ language.fullName }}">
                            <input kendoTextBox [(ngModel)]="data.shortname" name="shortname" class="noPadding"
                              readonly="true" />
                          </kendo-textbox-container>
                        </div>
                        <div class="col-md-3 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.telephone }}">
                              <input kendoTextBox [(ngModel)]="
                                  data.telephone
                                    ? data.telephone
                                    : language['noInformation']
                                " name="telephone" class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-3 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.mobile }}">
                              <input kendoTextBox [(ngModel)]="
                                  data.mobile
                                    ? data.mobile
                                    : language['noInformation']
                                " name="mobile" class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-3 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.email }}">
                              <input kendoTextBox [(ngModel)]="
                                  data.email
                                    ? data.email
                                    : language['noInformation']
                                " name="email" class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-3 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.street }}">
                              <input kendoTextBox [(ngModel)]="
                                  data.street
                                    ? data.street
                                    : language['noInformation']
                                " name="street" class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-3 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.streetnumber }}">
                              <input kendoTextBox [(ngModel)]="
                                  data.streetnumber
                                    ? data.streetnumber
                                    : language['noInformation']
                                " name="streetnumber" class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-3 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.city }}">
                              <input kendoTextBox [(ngModel)]="
                                  data.city
                                    ? data.city
                                    : language['noInformation']
                                " name="city" class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="tab-content" *ngIf="currentTab === 'base_one'">
                  <div class="tab-pane active fontawesome-demo" id="tab1">
                    <div id="biography">
                      <div class="row loading" *ngIf="baseDataOne === undefined" style="text-align: center">
                        <div class="lds-ellipsis">
                          <div></div>
                          <div></div>
                          <div></div>
                          <div></div>
                        </div>
                      </div>
                      <div class="row" *ngIf="baseDataOne !== undefined">
                        <div class="col-md-4 col-xs-6 b-r display_contents" *ngIf="recommendationList !== undefined">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.recommendation }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataOne.recommendation
                                " [(ngModel)]="language['noInformation']" name="recommendation" class="noPadding"
                                readonly="true" />
                              <kendo-multiselect *ngIf="baseDataOne.recommendation" [data]="recommendationList"
                                [textField]="'title'" [valueField]="'id'" [(ngModel)]="selectedRecommendation"
                                [valuePrimitive]="true" name="recommendation" readonly="true">
                              </kendo-multiselect>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r" *ngIf="relationshipList !== undefined">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.relationship }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataOne.relationship
                                " [(ngModel)]="language['noInformation']" name="relationship" class="noPadding"
                                readonly="true" />
                              <kendo-combobox *ngIf="baseDataOne.relationship" class="col-md-12 col-xs-12 noPadding"
                                [data]="relationshipList" [textField]="'title'" [valueField]="'id'"
                                [(ngModel)]="baseDataOne.relationship" [valuePrimitive]="true" name="relationship"
                                readonly="true">
                              </kendo-combobox>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r" *ngIf="socialList !== undefined">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.social }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataOne.social
                                " [(ngModel)]="language['noInformation']" name="social" class="noPadding"
                                readonly="true" />
                              <kendo-combobox *ngIf="baseDataOne.social" class="col-md-12 col-xs-12 noPadding"
                                [data]="socialList" [textField]="'title'" [valueField]="'id'"
                                [(ngModel)]="baseDataOne.social" [valuePrimitive]="true" name="title" readonly="true">
                              </kendo-combobox>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r" *ngIf="doctorList !== undefined">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.doctor }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataOne.doctor
                                " [(ngModel)]="language['noInformation']" name="doctor" class="noPadding"
                                readonly="true" />
                              <kendo-combobox *ngIf="baseDataOne.doctor" class="col-md-12 col-xs-12 noPadding"
                                [data]="doctorsListTmp" textField="fullname" [valueField]="'id'"
                                [(ngModel)]="baseDataOne.doctor" [valuePrimitive]="true" name="doctors" readonly="true">
                              </kendo-combobox>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r" *ngIf="baseDataOne.first_date !== undefined">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.firstDate }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataOne.first_date
                                " [(ngModel)]="language['noInformation']" name="first_date" class="noPadding"
                                readonly="true" />
                              <kendo-datepicker [format]="'dd.MM.yyyy'" *ngIf="baseDataOne.first_date"
                                [(ngModel)]="baseDataOne.first_date" name="first_date" readonly="true"
                                class="noPadding">
                              </kendo-datepicker>
                            </kendo-textbox-container>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="tab-content" *ngIf="currentTab === 'base_two'">
                  <div class="tab-pane active fontawesome-demo" id="tab1">
                    <div id="biography">
                      <div class="row loading" *ngIf="baseDataTwo === undefined" style="text-align: center">
                        <div class="lds-ellipsis">
                          <div></div>
                          <div></div>
                          <div></div>
                          <div></div>
                        </div>
                      </div>
                      <div class="row" *ngIf="baseDataTwo !== undefined">
                        <div class="col-md-4 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.size }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataTwo.size
                                " [(ngModel)]="language['noInformation']" name="size" class="noPadding"
                                readonly="true" />
                              <input kendoTextBox *ngIf="baseDataTwo.size" [(ngModel)]="baseDataTwo.size" name="size"
                                class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.weight }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataTwo.weight
                                " [(ngModel)]="language['noInformation']" name="weight" class="noPadding"
                                readonly="true" />
                              <input kendoTextBox *ngIf="baseDataTwo.weight" [(ngModel)]="baseDataTwo.weight"
                                name="weight" class="noPadding" readonly="true" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.childs }}">
                              <input kendoTextBox *ngIf="
                                  !baseDataTwo.childs
                                " [(ngModel)]="language['noInformation']" name="childs" class="noPadding"
                                readonly="true" />

                              <input kendoTextBox *ngIf="baseDataTwo.childs" [(ngModel)]="baseDataTwo.childs" />
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.notes }}">
                              <textarea kendoTextArea *ngIf="
                                  !baseDataTwo.notes
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea *ngIf="baseDataTwo.notes" kendoTextArea type="text"
                                [(ngModel)]="baseDataTwo.notes" name="notes" style="width: 95%" readonly="true"
                                [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.profession }}">
                              <textarea kendoTextArea *ngIf="
                                  !baseDataTwo.profession
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea *ngIf="baseDataTwo.profession" kendoTextArea type="text"
                                [(ngModel)]="baseDataTwo.profession" name="profession" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-4 col-xs-6 b-r">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.useful }}">
                              <textarea kendoTextArea *ngIf="
                                  !baseDataTwo.useful
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea *ngIf="baseDataTwo.useful" kendoTextArea type="text"
                                [(ngModel)]="baseDataTwo.useful" name="useful" style="width: 95%" readonly="true"
                                [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="tab-content" *ngIf="currentTab === 'physical_illness'">
                  <div class="tab-pane active fontawesome-demo" id="tab1">
                    <div id="biography">
                      <div class="row loading" *ngIf="
                          physicalIllness === undefined ||
                          physicalIllness === null
                        " style="text-align: center">
                        <div class="lds-ellipsis">
                          <div></div>
                          <div></div>
                          <div></div>
                          <div></div>
                        </div>
                      </div>
                      <div class="row" *ngIf="
                          physicalIllness !== undefined &&
                          physicalIllness !== null
                        ">
                        <div class="col-md-12 col-xs-12 mb-1">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.internalOrgans }}">
                              <textarea kendoTextArea *ngIf="
                                  !physicalIllness.internal_organs
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea kendoTextArea *ngIf="physicalIllness.internal_organs"
                                [(ngModel)]="physicalIllness.internal_organs" name="operations" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-12 col-xs-12 mb-1">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.operations }}">
                              <textarea kendoTextArea *ngIf="
                                  !physicalIllness.operations
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea kendoTextArea *ngIf="physicalIllness.operations"
                                [(ngModel)]="physicalIllness.operations" name="operations" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-12 col-xs-12 mb-1">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.previousFindidngs }}">
                              <textarea kendoTextArea *ngIf="
                                  !physicalIllness.previous_findings
                                    undefined
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea kendoTextArea *ngIf="physicalIllness.previous_findings"
                                [(ngModel)]="physicalIllness.previous_findings" name="previous_findings"
                                style="width: 95%" readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-12 col-xs-12 mb-1">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.medicament }}">
                              <textarea kendoTextArea *ngIf="
                                  !physicalIllness.medicament
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea kendoTextArea *ngIf="physicalIllness.medicament"
                                [(ngModel)]="physicalIllness.medicament" name="medicament" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-12 col-xs-12 mb-1">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.allergies }}">
                              <textarea kendoTextArea *ngIf="
                                  !physicalIllness.allergies
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea kendoTextArea *ngIf="physicalIllness.allergies"
                                [(ngModel)]="physicalIllness.allergies" name="allergies" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-12 col-xs-12 mb-1">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.skinSensitivity }}">
                              <textarea kendoTextArea *ngIf="
                                  !physicalIllness.skin_sensitivity
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea kendoTextArea *ngIf="physicalIllness.skin_sensitivity"
                                [(ngModel)]="physicalIllness.skin_sensitivity" name="skin_sensitivity"
                                style="width: 95%" readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                        <div class="col-md-12 col-xs-12 mb-1">
                          <br />
                          <p class="text-muted">
                            <kendo-textbox-container floatingLabel="{{ language.pregnancy }}">
                              <textarea kendoTextArea *ngIf="
                                  !physicalIllness.pregnancy
                                " [(ngModel)]="language['noInformation']" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                              <textarea kendoTextArea *ngIf="physicalIllness.pregnancy"
                                [(ngModel)]="physicalIllness.pregnancy" name="skin_sensitivity" style="width: 95%"
                                readonly="true" [autoSize]="true"></textarea>
                            </kendo-textbox-container>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- END PROFILE CONTENT -->
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <!-- BEGIN PROFILE CONTENT -->
      <div class="profile-content">
        <div class="row">
          <div class="card">
            <div class="card-topline-aqua">
              <header></header>
            </div>
            <div class="white-box">
              <div class="tabs widget">
                <ul class="nav nav-tabs widget">
                  <li [ngClass]="currentTabGrid === 'complaint' ? 'active' : ''">
                    <a (click)="changeTabGrid('complaint')">{{
                      language.complaintValue
                      }}</a>
                  </li>
                  <li [ngClass]="currentTabGrid === 'therapy' ? 'active' : ''">
                    <a (click)="changeTabGrid('therapy')">{{
                      language.therapyValue
                      }}</a>
                  </li>

                  <li [ngClass]="currentTabGrid === 'document' ? 'active' : ''">
                    <a (click)="changeTabGrid('document')">{{
                      language.documentValue
                      }}</a>
                  </li>
                </ul>

                <br />
                <!-- Tab panes -->
                <div class="tab-content" *ngIf="currentTabGrid === 'complaint'">
                  <div class="tab-pane active fontawesome-demo" id="tab1">
                    <div id="biography">
                      <div class="row loading" *ngIf="gridComplaint === undefined">
                        <div class="lds-ellipsis">
                          <div></div>
                          <div></div>
                          <div></div>
                          <div></div>
                        </div>
                      </div>
                      <div class="row" *ngIf="gridComplaint !== undefined">
                        <button kendoButton [primary]="true" [icon]="'add'" style="width: auto; margin-bottom: 2vh"
                          (click)="openComplaintModal()">
                          {{ language.addComplaint }}
                        </button>

                        <div class="grid-button">
                          <div class="dropdown-grid">
                            <button class="btn-grid" style="border-left: 1px solid #2a3582">
                              <i class="fa fa-caret-down"></i>
                            </button>
                            <div class="dropdown-content-grid">
                              <a (click)="exportComplaintPDF()"><span class="k-icon k-i-file-pdf"></span>
                                {{ language.exportToPDF }}</a>

                            </div>
                          </div>
                        </div>
                        <kendo-grid #complaintGrid="kendoGrid" [data]="gridComplaint" [height]="390" [resizable]="true"
                          [sortable]="true" [sort]="stateComplaint.sort" (sortChange)="
                            sortChange(
                              $event,
                              'stateComplaint',
                              'gridComplaint',
                              'gridComplaintData'
                            )
                          " [loading]="loadingGridComplaint">

                          <kendo-grid-column field="date" title="{{ language.date }}" width="120">
                          </kendo-grid-column>
                          <kendo-grid-column field="complaint_title" title="{{ language.complaintValue }}" width="200">
                          </kendo-grid-column>
                          <kendo-grid-column field="comment" title="{{ language.comment }}" width="150">
                          </kendo-grid-column>
                          <kendo-grid-column field="therapies_title" title="{{ language.therapyValue }}" width="120">
                          </kendo-grid-column>
                          <kendo-grid-column field="employee_name" title="{{ language.doctor }}" width="100">
                          </kendo-grid-column>
                          <kendo-grid-column field="cs" title="{{ language.cs }}" width="60">
                          </kendo-grid-column>
                          <kendo-grid-column width="60">
                            <ng-template kendoGridCellTemplate let-dataItem>
                              <button kendoButton [icon]="'k-icon k-i-edit'" (click)="editComplaint(dataItem)"></button>
                            </ng-template>
                          </kendo-grid-column>
                          <kendo-grid-column width="60">
                            <ng-template kendoGridCellTemplate let-dataItem>
                              <button kendoButton [icon]="'k-icon k-i-delete'"
                                (click)="open('dialogComplaint', dataItem.id)"></button>
                            </ng-template>
                          </kendo-grid-column>

                          <kendo-grid-pdf fileName="Complaints.pdf" [allPages]="allPages" paperSize="A4"
                            [landscape]="true" [scale]="0.8" [repeatHeaders]="true">
                            <kendo-grid-pdf-margin top="2cm" left="1cm" right="1cm" bottom="2cm">
                            </kendo-grid-pdf-margin>
                            <ng-template kendoGridPDFTemplate let-pageNum="pageNum" let-totalPages="totalPages">
                              <div class="page-template">
                                <div class="header">
                                  <div>
                                    {{ language.pagerPage }} {{ pageNum }} {{ language.pagerOf }}
                                    {{ totalPages }}
                                  </div>
                                </div>
                              </div>
                            </ng-template>

                            <kendo-grid-column field="date" title="{{ language.date }}" width="120">
                            </kendo-grid-column>
                            <kendo-grid-column field="complaint_title" title="{{ language.complaintValue }}"
                              width="160">
                            </kendo-grid-column>
                            <kendo-grid-column field="comment" title="{{ language.comment }}" width="150">
                            </kendo-grid-column>
                            <kendo-grid-column field="therapies_title" title="{{ language.therapyValue }}" width="120">
                            </kendo-grid-column>
                            <kendo-grid-column field="employee_name" title="{{ language.doctor }}" width="100">
                            </kendo-grid-column>
                            <kendo-grid-column field="cs" title="{{ language.cs }}" width="60">
                            </kendo-grid-column>
                          </kendo-grid-pdf>

                        </kendo-grid>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="tab-content" *ngIf="currentTabGrid === 'therapy'">
                  <div class="tab-pane active fontawesome-demo" id="tab1">
                    <div id="biography">
                      <div class="row loading" *ngIf="gridTherapy === undefined">
                        <div class="lds-ellipsis">
                          <div></div>
                          <div></div>
                          <div></div>
                          <div></div>
                        </div>
                      </div>

                      <div class="row-grid" *ngIf="gridTherapy !== undefined">
                        <!-- <button
                          kendoButton
                          [primary]="true"
                          [icon]="'add'"
                          style="width: auto; margin-bottom: 2vh"
                          (click)="openTherapyModal()"
                        >
                          {{ language.addTherapy }}
                        </button> -->
                        <div class="row w-100" style="padding: 0 15px; margin-bottom: 15px">
                          <div class="grid-button">
                            <div class="dropdown-grid">
                              <button class="btn-grid" style="border-left: 1px solid #2a3582">
                                <i class="fa fa-caret-down"></i>
                              </button>
                              <div class="dropdown-content-grid">

                                <a (click)="exportTherapyPDF(true)"><span class="k-icon k-i-file-pdf"></span>
                                  {{ language.exportToPDF }}</a>

                              </div>
                            </div>
                          </div>
                        </div>
                        <kendo-grid #therapyGrid="kendoGrid" [data]="gridTherapy" [height]="390" [resizable]="true"
                          [sortable]="true" [sort]="stateTherapy.sort" (sortChange)="
                            sortChange(
                              $event,
                              'stateTherapy',
                              'gridTherapy',
                              'gridTherapyData'
                            )
                          " [loading]="loadingGridTherapy">

                          <kendo-grid-column field="date" title="{{ language.date }}" width="140">
                          </kendo-grid-column>
                          <kendo-grid-column field="time" title="{{ language.time }}" width="130">
                          </kendo-grid-column>
                          <kendo-grid-column field="complaint_title" title="{{ language.complaintValue }}" width="130">
                          </kendo-grid-column>
                          <kendo-grid-column field="therapies_title" title="{{ language.therapyValue }}" width="120">
                          </kendo-grid-column>
                          <kendo-grid-column field="therapies_previous_title" title="{{ language.treatmentValue }}"
                            width="150">
                          </kendo-grid-column>
                          <kendo-grid-column field="category" title="{{ language.category }}" width="150">
                          </kendo-grid-column>
                          <kendo-grid-column field="comment" title="{{ language.comment }}" width="150">
                          </kendo-grid-column>
                          <kendo-grid-column field="cs_title" title="{{ language.cs }}" width="120">
                          </kendo-grid-column>
                          <kendo-grid-column field="state" title="{{ language.stateValue }}" width="120">
                          </kendo-grid-column>
                          <kendo-grid-column field="em_title" title="{{ language.em }}" width="100">
                          </kendo-grid-column>
                          <kendo-grid-column width="40">
                            <ng-template kendoGridCellTemplate let-dataItem>
                              <button kendoButton [icon]="'k-icon k-i-edit'" (click)="editTherapy(dataItem)"></button>
                            </ng-template>
                          </kendo-grid-column>
                          <kendo-grid-column width="40">
                            <ng-template kendoGridCellTemplate let-dataItem>
                              <button kendoButton [icon]="'k-icon k-i-delete'"
                                (click)="open('dialogTherapy', dataItem.id)"></button>
                            </ng-template>
                          </kendo-grid-column>

                          <kendo-grid-pdf fileName="Therapy.pdf" [allPages]="allPages" paperSize="A4" [landscape]="true"
                            [scale]="0.8" [repeatHeaders]="true">
                            <kendo-grid-pdf-margin top="2cm" left="1cm" right="1cm" bottom="2cm">
                            </kendo-grid-pdf-margin>
                            <ng-template kendoGridPDFTemplate let-pageNum="pageNum" let-totalPages="totalPages">
                              <div class="page-template">
                                <div class="header">
                                  <div>
                                    {{ language.pagerPage }} {{ pageNum }} {{ language.pagerOf }}
                                    {{ totalPages }}
                                  </div>
                                </div>
                              </div>
                            </ng-template>

                            <kendo-grid-column field="date" title="{{ language.date }}" width="140">
                              <ng-template kendoGridCellTemplate let-dataItem>
                                {{ dataItem.date | date: "dd.MM.yyyy" }}
                              </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column field="time" title="{{ language.time }}" width="130">
                            </kendo-grid-column>
                            <kendo-grid-column field="complaint_title" title="{{ language.complaintValue }}"
                              width="150">
                            </kendo-grid-column>
                            <kendo-grid-column field="therapies_title" title="{{ language.therapyValue }}" width="120">
                            </kendo-grid-column>
                            <kendo-grid-column field="therapies_previous_title" title="{{ language.treatmentValue }}"
                              width="150">
                            </kendo-grid-column>
                            <kendo-grid-column field="category" title="{{ language.category }}" width="150">
                            </kendo-grid-column>
                            <kendo-grid-column field="comment" title="{{ language.comment }}" width="150">
                            </kendo-grid-column>
                            <kendo-grid-column field="cs_title" title="{{ language.cs }}" width="120">
                            </kendo-grid-column>
                            <kendo-grid-column field="state" title="{{ language.stateValue }}" width="120">
                            </kendo-grid-column>
                            <kendo-grid-column field="em_title" title="{{ language.em }}" width="100">
                            </kendo-grid-column>

                          </kendo-grid-pdf>

                        </kendo-grid>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="tab-content" *ngIf="currentTabGrid === 'document'">
                  <div class="tab-pane active fontawesome-demo" id="tab1">
                    <div id="biography">
                      <div class="row loading" *ngIf="documents === undefined">
                        <div class="lds-ellipsis">
                          <div></div>
                          <div></div>
                          <div></div>
                          <div></div>
                        </div>
                      </div>
                      <div class="row-grid" *ngIf="documents !== undefined">
                        <button kendoButton [primary]="true" [icon]="'add'" style="width: auto; margin-bottom: 2vh"
                          (click)="uploadOpen()">
                          {{ language.uploadDocument }}
                        </button>

                        <div class="grid-button">
                          <div class="dropdown-grid">
                            <button class="btn-grid" style="border-left: 1px solid #2a3582">
                              <i class="fa fa-caret-down"></i>
                            </button>
                            <div class="dropdown-content-grid">
                              <a (click)="exportDocumentsPDF(true)"><span class="k-icon k-i-file-pdf"></span>
                                {{ language.exportToPDF }}</a>

                            </div>
                          </div>
                        </div>

                        <kendo-grid #documentsGrid="kendoGrid" [data]="documents" [height]="390" [resizable]="true"
                          [sortable]="true" [sort]="stateDocument.sort" (sortChange)="
                            sortChange(
                              $event,
                              'stateDocument',
                              'documents',
                              'documentsData'
                            )
                          " [loading]="loadingGridDocument">

                          <kendo-grid-column field="id" title="{{ language.documentId }}" width="100">
                          </kendo-grid-column>
                          <kendo-grid-column width="70">
                            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                              <span *ngIf="dataItem.type === 'application/pdf'" class="k-icon k-i-pdf"></span>
                              <span *ngIf="
                                  dataItem.type ===
                                  'application/vnd.openxmlformats'
                                " class="k-icon k-i-file-word"></span>
                              <span *ngIf="dataItem.type === 'image/png'" class="k-icon k-i-image"></span>
                              <span *ngIf="dataItem.type === 'text/plain'" class="k-icon k-i-file-txt"></span>
                            </ng-template>
                          </kendo-grid-column>
                          <kendo-grid-column field="name" title="{{ language.documentName }}" width="180">
                          </kendo-grid-column>
                          <kendo-grid-column field="size" title="{{ language.documentSize }}" width="120">
                          </kendo-grid-column>
                          <kendo-grid-column field="date" title="{{ language.documentDate }}" width="120">
                            <ng-template kendoGridCellTemplate let-dataItem>
                              {{ dataItem.date | date: "dd/MM/yyyy" }}
                            </ng-template>
                          </kendo-grid-column>
                          <kendo-grid-column field="description" title="{{ language.documentDescription }}" width="150">
                          </kendo-grid-column>
                          <kendo-grid-column field="active" title="" width="80">
                            <ng-template kendoGridCellTemplate let-dataItem>
                              <button kendoButton [icon]="'k-icon k-i-preview'" class="k-preview"
                                (click)="previewDocument(dataItem.filename)"></button>
                            </ng-template>
                          </kendo-grid-column>
                          <kendo-grid-column width="80">
                            <ng-template kendoGridCellTemplate let-dataItem>
                              <div class="dropdown-grid document-options">
                                <button class="btn-grid" style="border-left: 1px solid #2a3582">
                                  <i class="fa fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-content-grid">
                                  <a (click)="downloadFile(dataItem.filename)"><span class="k-icon k-i-download"></span>
                                    {{ language.download }}</a>
                                  <a (click)="editDocuments(dataItem)"><span class="k-icon k-i-file-excel"></span>
                                    {{ language.edit }}</a>
                                  <a (click)="open('dialogDocument', dataItem)"><span
                                      class="k-icon k-i-file-excel"></span>
                                    {{ language.delete }}</a>
                                </div>
                              </div>
                            </ng-template>
                          </kendo-grid-column>


                          <kendo-grid-pdf fileName="Document.pdf" [allPages]="allPages" paperSize="A4"
                            [landscape]="true" [scale]="0.8" [repeatHeaders]="true">
                            <kendo-grid-pdf-margin top="2cm" left="1cm" right="1cm" bottom="2cm">
                            </kendo-grid-pdf-margin>
                            <ng-template kendoGridPDFTemplate let-pageNum="pageNum" let-totalPages="totalPages">
                              <div class="page-template">
                                <div class="header">
                                  <div>
                                    {{ language.pagerPage }} {{ pageNum }} {{ language.pagerOf }}
                                    {{ totalPages }}
                                  </div>
                                </div>
                              </div>
                            </ng-template>

                            <kendo-grid-column field="id" title="{{ language.documentId }}" width="100">
                            </kendo-grid-column>
                            <kendo-grid-column width="70">
                              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                                <span *ngIf="dataItem.type === 'application/pdf'" class="k-icon k-i-pdf"></span>
                                <span *ngIf="
                                    dataItem.type ===
                                    'application/vnd.openxmlformats'
                                  " class="k-icon k-i-file-word"></span>
                                <span *ngIf="dataItem.type === 'image/png'" class="k-icon k-i-image"></span>
                                <span *ngIf="dataItem.type === 'text/plain'" class="k-icon k-i-file-txt"></span>
                              </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column field="name" title="{{ language.documentName }}" width="180">
                            </kendo-grid-column>
                            <kendo-grid-column field="size" title="{{ language.documentSize }}" width="120">
                            </kendo-grid-column>
                            <kendo-grid-column field="date" title="{{ language.documentDate }}" width="120">
                              <ng-template kendoGridCellTemplate let-dataItem>
                                {{ dataItem.date | date: "dd/MM/yyyy" }}
                              </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column field="description" title="{{ language.documentDescription }}"
                              width="150">
                            </kendo-grid-column>

                          </kendo-grid-pdf>
                        </kendo-grid>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- END PROFILE CONTENT -->
        </div>
      </div>
    </div>

    <kendo-dialog *ngIf="dialogOpened" (close)="close('dialog')" [minWidth]="250" [width]="450">
      <div class="modal-body text-center">
        <img src="../../../../../assets/images/sent.png" alt="" width="50" height="46" />
        <h3>{{ language.deleteDialogTitleAreYouSure }}</h3>
      </div>
      <kendo-dialog-actions>
        <button kendoButton (click)="action('no')">{{ language.no }}</button>
        <button kendoButton (click)="action('yes')" primary="true">
          {{ language.yes }}
        </button>
      </kendo-dialog-actions>
    </kendo-dialog>

    <kendo-dialog *ngIf="dialogComplaintOpened" (close)="close('dialogComplaint')" [minWidth]="250" [width]="450">
      <div class="modal-body text-center">
        <img src="../../../../../assets/images/sent.png" alt="" width="50" height="46" />
        <h3>{{ language.deleteDialogTitleAreYouSure }}</h3>
      </div>
      <kendo-dialog-actions>
        <button kendoButton (click)="deleteComplaint('no')">
          {{ language.no }}
        </button>
        <button kendoButton (click)="deleteComplaint('yes')" primary="true">
          {{ language.yes }}
        </button>
      </kendo-dialog-actions>
    </kendo-dialog>

    <kendo-dialog *ngIf="dialogTherapyOpened" (close)="close('dialogTherapy')" [minWidth]="250" [width]="450">
      <div class="modal-body text-center">
        <img src="../../../../../assets/images/sent.png" alt="" width="50" height="46" />
        <h3>{{ language.deleteDialogTitleAreYouSure }}</h3>
      </div>
      <kendo-dialog-actions>
        <button kendoButton (click)="deleteTherapy('no')">
          {{ language.no }}
        </button>
        <button kendoButton (click)="deleteTherapy('yes')" primary="true">
          {{ language.yes }}
        </button>
      </kendo-dialog-actions>
    </kendo-dialog>

    <kendo-dialog *ngIf="dialogDocumentOpened" (close)="close('dialogDocument')" [minWidth]="250" [width]="450">
      <div class="modal-body text-center">
        <img src="../../../../../assets/images/sent.png" alt="" width="50" height="46" />
        <h3>{{ language.deleteDialogTitleAreYouSure }}</h3>
      </div>
      <kendo-dialog-actions>
        <button kendoButton (click)="deleteDocument('no')">
          {{ language.no }}
        </button>
        <button kendoButton (click)="deleteDocument('yes')" primary="true">
          {{ language.yes }}
        </button>
      </kendo-dialog-actions>
    </kendo-dialog>

    <modal #upload modalClass="modal-lg top-margin loggerModal adminModal" *ngIf="uploader !== undefined"
      (keydown.esc)="confirmClose(upload)">
      <modal-header>
        <h2>{{ language.fileUploadTitle }}</h2>
        <button type="button" class="close" data-dismiss="modal" (click)="confirmClose(upload)">
          <span aria-hidden="true">&times;</span>
        </button>
      </modal-header>
      <modal-content>
        <kendo-dialog *ngIf="showDialog" title="{{ language?.changesWontBeSavedTitle }}" [minWidth]="250" [width]="450">
          <p style="margin: 30px; text-align: center">
            {{ language?.changesWontBeSaved }}
          </p>
          <kendo-dialog-actions>
            <button kendoButton (click)="receiveConfirm(false, upload)">
              {{ language.no }}
            </button>
            <button kendoButton (click)="receiveConfirm(true, upload)" primary="true">
              {{ language.yes }}
            </button>
          </kendo-dialog-actions>
        </kendo-dialog>
        <div>
          <div class="row">
            <div class="col-md-12 col-sm-12">
              <form (change)="isDirty()">
                <div class="form-group">
                  <!--<label for="multiple"></label>
                      <input type="file" class="form-control" name="multiple" ng2FileSelect [uploader]="uploader"
                        multiple />-->
                  <label class="uploadFromExcel"><span class="k-icon k-i-upload"></span>
                    {{ language.uploadFileButton
                    }}<input type="file" class="form-control" name="multiple" ng2FileSelect [uploader]="uploader"
                      multiple /></label>
                </div>
              </form>
            </div>
            <div class="col-md-12 col-sm-12">
              {{ language.queueLength }}: {{ uploader?.queue?.length }}

              <table class="table">
                <thead>
                  <tr>
                    <th width="10%">{{ language.documentName }}</th>
                    <th class="hidden-xs">{{ language.documentSize }}</th>
                    <th class="30%">{{ language.documentDescription }}</th>
                    <th class="15%">{{ language.documentDate }}</th>
                    <th class="hidden-xs">{{ language.documentProgress }}</th>
                    <th class="hidden-xs">{{ language.documentStatus }}</th>
                    <th>{{ language.documentActions }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of uploader.queue">
                    <td>
                      <strong>{{ item.file.name }}</strong>
                    </td>
                    <td nowrap>
                      {{ item.file.size / 1024 / 1024 | number: ".2" }} MB
                    </td>
                    <td>
                      <textarea kendoTextArea [(ngModel)]="item.file['description']" [autoSize]="true"
                        name="descriprion" style="width: 95%"></textarea>
                    </td>
                    <td>
                      <kendo-datepicker [format]="'dd.MM.yyyy'" name="birthday" class="date-archive"
                        [(ngModel)]="item.file.lastModifiedDate">
                      </kendo-datepicker>
                    </td>
                    <td class="hidden-xs">
                      <div class="progress" style="margin-bottom: 0">
                        <div class="progress-bar" role="progressbar" [ngStyle]="{ width: item.progress + '%' }"></div>
                      </div>
                    </td>
                    <td class="text-center hidden-xs">
                      <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                      <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                      <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                    </td>
                    <td nowrap>
                      <button type="button" class="btn btn-success btn-xs hidden-xs" (click)="item.upload()" [disabled]="
                          item.isReady || item.isUploading || item.isSuccess
                        ">
                        <span class="glyphicon glyphicon-upload"></span>
                        {{ language.uploadFile }}
                      </button>
                      <button type="button" class="btn btn-warning btn-xs hidden-xs" (click)="item.cancel()"
                        [disabled]="!item.isUploading">
                        <span class="glyphicon glyphicon-ban-circle"></span>
                        {{ language.cancelFile }}
                      </button>
                      <button type="button" class="btn btn-danger btn-xs" (click)="item.remove()">
                        <span class="glyphicon glyphicon-trash"></span>
                        {{ language.removeFile }}
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>

              <div>
                <div>
                  {{ language.queueProgress }}:
                  <div class="progress">
                    <div class="progress-bar" role="progressbar" [ngStyle]="{ width: uploader.progress + '%' }"></div>
                  </div>
                </div>
                <button type="button" class="btn btn-success btn-s" (click)="uploader.uploadAll()"
                  [disabled]="!uploader.getNotUploadedItems().length">
                  <span class="glyphicon glyphicon-upload"></span>
                  {{ language.uploadAll }}
                </button>
                <button type="button" class="btn btn-warning btn-s" (click)="uploader.cancelAll()"
                  [disabled]="!uploader.isUploading">
                  <span class="glyphicon glyphicon-ban-circle"></span>
                  {{ language.cancelAll }}
                </button>
                <button type="button" class="btn btn-danger btn-s" (click)="uploader.clearQueue()"
                  [disabled]="!uploader.queue.length">
                  <span class="glyphicon glyphicon-trash"></span>
                  {{ language.removeAll }}
                </button>
              </div>
            </div>
          </div>
        </div>
      </modal-content>
      <modal-footer>
        <button class="btn btn-primary" (click)="closeUploadModal()">
          {{ language.closeFileUploader }}
        </button>
      </modal-footer>
    </modal>

    <modal #complaint modalClass="modal-lg" (keydown.esc)="confirmClose(complaint)">
      <modal-header>
        <h4>{{ getTranslate(operationMode) }}</h4>
        <button type="button" class="close" data-dismiss="modal" (click)="confirmClose(complaint)">
          <span aria-hidden="true">&times;</span>
        </button>
      </modal-header>
      <modal-content>
        <kendo-dialog *ngIf="showDialog" title="{{ language?.changesWontBeSavedTitle }}" [minWidth]="250" [width]="450">
          <p style="margin: 30px; text-align: center">
            {{ language?.changesWontBeSaved }}
          </p>
          <kendo-dialog-actions>
            <button kendoButton (click)="receiveConfirm(false, complaint)">
              {{ language.no }}
            </button>
            <button kendoButton (click)="receiveConfirm(true, complaint)" primary="true">
              {{ language.yes }}
            </button>
          </kendo-dialog-actions>
        </kendo-dialog>
        <p style="margin: 30px; text-align: center">
          {{ language?.changesWontBeSaved }}
        </p>
        <form name="loginForm" class="loginForm" (ngSubmit)="
            complaintForm.form.valid === true
              ? operationMode === 'add'
                ? addComplaint(complaint)
                : updateComplaint(complaint)
              : null
          " #complaintForm="ngForm" (change)="isDirty()">
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.complaintValue }}">
              <kendo-multiselect [data]="complaintValue" [textField]="'title'" [valueField]="'id'"
                [(ngModel)]="selectedComplaint" name="complaint" [valuePrimitive]="true" required [class.is-invalid]="
                  complaint['invalid'] &&
                  (complaint['touched'] || complaintForm.submitted)
                ">
              </kendo-multiselect>
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.comment }}">
              <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="complaintData.comment" name="comment" />
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.treatmentValue }}">
              <kendo-multiselect class="col-xs-12" [data]="treatmentValue" [textField]="'title'" [valueField]="'id'"
                [(ngModel)]="selectedTherapies" name="therapies" [valuePrimitive]="true"
                style="padding: 0px !important">
              </kendo-multiselect>
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.cs }}">
              <input kendoTextBox type="text" class="col-xs-12" name="cs" [(ngModel)]="complaintData.cs_title"
                cs.value="" />
            </kendo-textbox-container>
          </div>
          <div class="form-group" style="text-align: center">
            <button *ngIf="operationMode === 'add'" kendoButton [primary]="true" class="form-button"
              [disabled]="complaintForm.form.invalid" type="submit">
              {{ language.addComplaint }}
            </button>
            <button *ngIf="operationMode === 'edit'" kendoButton [primary]="true" class="form-button"
              [disabled]="complaintForm.form.invalid" type="submit">
              {{ language.updateComplaint }}
            </button>
          </div>
        </form>
      </modal-content>
      <modal-footer class="modal-footer-none"> </modal-footer>
    </modal>

    <modal #therapy modalClass="modal-lg">
      <modal-header>
        <h4>{{ getTranslate(operationMode + "Therapy") }}</h4>
      </modal-header>
      <modal-content>
        <div *ngIf="loadingTherapy" style="height: 90vh">
          <div class="spinner loading"></div>
        </div>
        <form *ngIf="!loadingTherapy" name="loginForm" class="loginForm" (ngSubmit)="
            therapyForm.form.valid === true
              ? operationMode === 'add'
                ? addTherapy(therapy)
                : updateTherapy(therapy)
              : null
          " #therapyForm="ngForm">
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.complaintValue }}">
              <kendo-multiselect class="col-md-12 col-xs-12 noPadding" [data]="complaintValue" [textField]="'title'"
                [valueField]="'id'" [(ngModel)]="selectedComplaint" name="complaint" [valuePrimitive]="true" required>
              </kendo-multiselect>
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.therapyValue }}">
              <kendo-multiselect class="col-md-12 col-xs-12 noPadding" [data]="therapyValue" [textField]="'title'"
                [valueField]="'id'" [(ngModel)]="selectedTherapies" name="therapies" [valuePrimitive]="true" required>
              </kendo-multiselect>
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.treatmentValue }}">
              <kendo-multiselect class="col-md-12 col-xs-12 noPadding" [data]="treatmentValue" [textField]="'title'"
                [valueField]="'id'" [(ngModel)]="selectedTreatment" name="therapies_previous" [valuePrimitive]="true"
                required>
              </kendo-multiselect>
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.comment }}">
              <input kendoTextBox type="text" class="col-md-12 col-xs-12" name="comment"
                [(ngModel)]="complaintData.comment" />
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.cs }}">
              <input kendoTextBox type="text" class="col-md-12 col-xs-12" name="cs"
                [(ngModel)]="complaintData.cs_title" />
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.stateValue }}">
              <kendo-combobox class="col-md-12 col-xs-12 noPadding" [data]="stateValue" [textField]="'text'"
                [valueField]="'text'" [(ngModel)]="complaintData.state" (valueChange)="valueChangeState($event)"
                [valuePrimitive]="true" name="state" required>
              </kendo-combobox>
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.em }}">
              <kendo-combobox class="col-md-12 col-xs-12 noPadding" [data]="allUsers" [textField]="'shortname'"
                [valueField]="'id'" (valueChange)="onValueUserEmChange($event)" [(ngModel)]="selectedUser" name="em">
              </kendo-combobox>
            </kendo-textbox-container>
          </div>
          <div class="form-group" style="text-align: center">
            <button *ngIf="operationMode === 'add'" kendoButton [primary]="true" class="form-button" type="submit"
              [disabled]="therapyForm.form.invalid">
              {{ language.addTherapy }}
            </button>
            <button *ngIf="operationMode === 'edit'" kendoButton [primary]="true" class="form-button" type="submit"
              [disabled]="therapyForm.form.invalid">
              {{ language.updateTherapy }}
            </button>
          </div>
        </form>
      </modal-content>
      <modal-footer class="modal-footer-none"> </modal-footer>
    </modal>

    <modal #customer modalClass="modal-lg" (keydown.esc)="confirmClose(customer)">
      <modal-header>
        <h4>{{ getTranslate(currentTab) }}</h4>
        <button type="button" class="close" data-dismiss="modal" (click)="confirmClose(customer)">
          <span aria-hidden="true">&times;</span>
        </button>
      </modal-header>
      <modal-content>
        <kendo-dialog *ngIf="showDialog" title="{{ language?.changesWontBeSavedTitle }}" [minWidth]="250" [width]="450">
          <p style="margin: 30px; text-align: center">
            {{ language?.changesWontBeSaved }}
          </p>
          <kendo-dialog-actions>
            <button kendoButton (click)="receiveConfirm(false, customer)">
              {{ language.no }}
            </button>
            <button kendoButton (click)="receiveConfirm(true, customer)" primary="true">
              {{ language.yes }}
            </button>
          </kendo-dialog-actions>
        </kendo-dialog>
        <div class="tabs widget">
          <ul class="nav nav-tabs widget">
            <li [ngClass]="currentTab === 'profile' ? 'active' : ''">
              <a (click)="changeTab('profile')">{{ language.profile }}</a>
            </li>
            <li [ngClass]="currentTab === 'base_one' ? 'active' : ''">
              <a (click)="changeTab('base_one')">{{ language.baseOne }}</a>
            </li>

            <li [ngClass]="currentTab === 'base_two' ? 'active' : ''">
              <a (click)="changeTab('base_two')">{{ language.baseTwo }}</a>
            </li>

            <li [ngClass]="currentTab === 'physical_illness' ? 'active' : ''">
              <a (click)="changeTab('physical_illness')">{{
                language.physicalIllness
                }}</a>
            </li>
          </ul>
          <kendo-dialog *ngIf="showDialogChangeTab" title="{{ language?.changesWontBeSavedTitle }}" [minWidth]="250"
            [width]="450">
            <p style="margin: 30px; text-align: center">
              {{ language?.changesWontBeSaved }}
            </p>
            <kendo-dialog-actions>
              <button kendoButton (click)="receiveConfirmChangeTab(false)">{{language.no}}</button>
              <button kendoButton (click)="receiveConfirmChangeTab(true)" primary="true">{{language.yes}}</button>
            </kendo-dialog-actions>
          </kendo-dialog>
          <!--PROFILE-->
          <div class="tab-content" *ngIf="currentTab === 'profile'">
            <div id="profile-tab" class="tab-pane active">
              <form name="loginForm" class="loginForm" (ngSubmit)="updateCustomer(customer)" #customerForm="ngForm"
                (change)="isDirty()">
                <div class="form-group">
                  <div class="panel-body">
                    <div class="text-center vd_info-parent col-md-4 col-xs-12">
                      <img *ngIf="data.gender !== '' && data.gender === 'male'" alt="example image" style="width: 190px"
                        src="../../../../assets/images/users/male-patient.png" class="rounded-circle" />
                      <img *ngIf="data.gender !== '' && data.gender === 'female'" alt="example image"
                        style="width: 190px" src="../../../../assets/images/users/female-patient.png"
                        class="rounded-circle" />
                      <h2 class="font-semibold">
                        {{ data.firstname }} {{ data.lastname }}
                      </h2>
                    </div>
                    <div class="col-md-8 col-xs-12">
                      <div class="col-sm-6" style="margin-bottom: 3vh">
                        <div class="row mgbt-xs-0">
                          <kendo-textbox-container floatingLabel="{{ language.attention }}">
                            <textarea kendoTextArea [(ngModel)]="data.attention" [autoSize]="true" name="attention"
                              style="width: 95%"></textarea>
                          </kendo-textbox-container>
                        </div>
                      </div>
                      <div class="col-sm-6" style="margin-bottom: 3vh">
                        <div class="row mgbt-xs-0">
                          <kendo-textbox-container floatingLabel="{{ language.physicalComplaint }}">
                            <textarea kendoTextArea [(ngModel)]="data.physicalComplaint" [autoSize]="true"
                              name="physicalComplaint" style="width: 95%"></textarea>
                          </kendo-textbox-container>
                        </div>
                      </div>
                      <div class="col-sm-12">
                        <label class="label_name">{{ language.firstname }}</label>
                        <input kendoTextBox *ngIf="
                              data.firstname === '' ||
                              data.firstname === null ||
                              data.firstname === undefined
                            " [(ngModel)]="language['noInformation']" name="firstname" class="noPadding full-width"
                          required />
                        <input kendoTextBox *ngIf="
                              data.firstname !== null &&
                              data.firstname !== undefined &&
                              data.firstname !== ''
                            " [(ngModel)]="data.firstname" name="firstname" class="noPadding full-width" required
                          #firstname="ngModel" />
                      </div>
                      <div class="col-sm-12">
                        <label class="label_name">{{ language.lastname }}</label>
                        <input kendoTextBox *ngIf="
                              !data.lastname
                            " [(ngModel)]="language['noInformation']" name="lastname" class="noPadding full-width"
                          required />
                        <input kendoTextBox *ngIf="
                              data.lastname !== null &&
                              data.lastname !== undefined &&
                              data.lastname !== ''
                            " [(ngModel)]="data.lastname" name="lastname" class="noPadding full-width" required
                          #lastname="ngModel" />
                      </div>
                      <div class="form-group col-md-12 col-xs-12">
                        <div class="col-md-6 col-xs-12">
                          <p>{{ language.gender }}</p>
                          <label class="k-radio-label col-md-6 col-xs-12" for="female">
                            <input type="radio" name="gender" id="female" class="k-radio"
                              checked="data.gender === 'female' ? checked : ''" [(ngModel)]="data.gender"
                              [value]="'female'" />
                            {{ language.female }}</label>
                          <label class="k-radio-label col-md-6 col-xs-12" for="male">
                            <input type="radio" name="gender" id="male" class="k-radio"
                              checked="data.gender === 'male' ? checked : ''" [(ngModel)]="data.gender"
                              [value]="'male'" />
                            {{ language.male }}</label>
                        </div>
                        <div class="birthday-container">
                          <kendo-textbox-container floatingLabel="{{ language.birthday }}">
                            <kendo-datepicker [format]="'dd.MM.yyyy'" class="email col-md-6 col-xs-12 noPadding"
                              name="birthday" [(ngModel)]="data.birthday" (valueChange)="onChange($event)">
                            </kendo-datepicker>
                          </kendo-textbox-container>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <div class="email col-md-4 col-xs-12">
                    <kendo-textbox-container floatingLabel="{{ language.telephoneEdit }}">
                      <input kendoTextBox type="text" class="col-xs-12" name="telephone" [(ngModel)]="data.telephone"
                        telephone.value="" />
                    </kendo-textbox-container>
                  </div>
                  <div class="email col-md-4 col-xs-12">
                    <kendo-textbox-container floatingLabel="{{ language.mobileEdit }}">
                      <input kendoTextBox type="text" class="col-xs-12" name="mobile" [(ngModel)]="data.mobile"
                        mobile.value="" />
                    </kendo-textbox-container>
                  </div>
                  <div class="email col-md-4 col-xs-12">
                    <kendo-textbox-container floatingLabel="{{ language.email }}">
                      <input kendoTextBox type="email" class="col-xs-12" name="email" [(ngModel)]="data.email"
                        #email="ngModel" #email="ngModel" />
                    </kendo-textbox-container>
                  </div>
                  <div class="email col-md-4 col-xs-12">
                    <kendo-textbox-container floatingLabel="{{ language.street }}">
                      <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="data.street" name="street" />
                    </kendo-textbox-container>
                  </div>
                  <div class="email col-md-4 col-xs-12">
                    <kendo-textbox-container floatingLabel="{{ language.streetnumber }}">
                      <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="data.streetnumber"
                        name="streetnumber" />
                    </kendo-textbox-container>
                  </div>
                  <div class="col-md-4 col-xs-12">
                    <kendo-textbox-container floatingLabel="{{ language.city }}">
                      <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="data.city" name="city" />
                    </kendo-textbox-container>
                  </div>
                  <div class="col-xs-12 text-center mt-4">
                    <label class="k-form-field col-md-12 label__active">
                      {{ language.active }} &nbsp;
                      <kendo-switch [(ngModel)]="data.active" name="active"></kendo-switch>
                    </label>
                  </div>
                </div>
                <!-- ./remember-row -->
                <div class="form-group" style="text-align: center">
                  <button kendoButton [disabled]="customerForm.form.invalid" [primary]="true" class="form-button"
                    type="submit">
                    {{ language.updateCustomer }}
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!--BASE ONE-->
          <div class="tab-content" *ngIf="currentTab === 'base_one'">
            <div *ngIf="baseDataOne === null || baseDataOne === undefined" style="height: 90vh; text-align: center">
              <div class="lds-ellipsis lds-ellipsis-form">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
              </div>
            </div>
            <div id="profile-tab" class="tab-pane active" *ngIf="baseDataOne !== undefined && baseDataOne !== null">
              <form name="loginForm" class="loginForm" (ngSubmit)="
                  operationMode === 'add'
                    ? addBaseDataOne()
                    : updateBaseDataOne()
                " (change)="isDirty()" #baseOne="ngForm">
                <div class="form-group">
                  <div class="col-md-4 col-xs-12 b-r display_contents" *ngIf="recommendationList !== undefined">
                    <kendo-textbox-container floatingLabel="{{ language.recommendation }}">
                      <kendo-multiselect [data]="recommendationList" [textField]="'title'" [valueField]="'id'"
                        [(ngModel)]="selectedRecommendation" [valuePrimitive]="true" name="recommendation">
                      </kendo-multiselect>
                    </kendo-textbox-container>
                  </div>
                  <div class="col-md-4 col-xs-12 b-r" *ngIf="relationshipList !== undefined">
                    <kendo-textbox-container floatingLabel="{{ language.relationship }}">
                      <kendo-combobox class="col-md-12 col-xs-12 noPadding" [data]="relationshipList"
                        [textField]="'title'" [valueField]="'id'" [(ngModel)]="baseDataOne.relationship"
                        [valuePrimitive]="true" name="relationship">
                      </kendo-combobox>
                    </kendo-textbox-container>
                  </div>
                  <div class="col-md-4 col-xs-12 b-r" *ngIf="socialList !== undefined">
                    <kendo-textbox-container floatingLabel="{{ language.social }}">
                      <kendo-combobox class="col-md-12 col-xs-12 noPadding" [data]="socialList" [textField]="'title'"
                        [valueField]="'id'" [(ngModel)]="baseDataOne.social" [valuePrimitive]="true" name="title">
                      </kendo-combobox>
                    </kendo-textbox-container>
                  </div>
                  <div class="col-md-4 col-xs-12 b-r" *ngIf="doctorList !== undefined">
                    <kendo-textbox-container floatingLabel="{{ language.doctor }}">
                      <kendo-combobox class="col-md-12 col-xs-12 noPadding" [suggest]="true" [data]="doctorsListTmp"
                        textField="fullname" [valueField]="'id'" [(ngModel)]="baseDataOne.doctor"
                        [valuePrimitive]="true" [filterable]="true" (filterChange)="filterDoctor($event)"
                        name="doctors">
                        <ng-template kendoComboBoxItemTemplate let-dataItem>
                          <p style="height: 50px !important">
                            <span style="font-weight: bold; font-size: 13px"> {{ dataItem.fullname}}</span>
                            <br />
                            <span class="customerInfo" *ngIf="dataItem.city !== ''" style="font-size: 11px">
                              {{ dataItem.city }}</span>
                            <span class="customerInfo" *ngIf="dataItem.street !== ''" style="font-size: 11px">/{{
                              dataItem.street }}</span>
                          </p>
                        </ng-template>
                      </kendo-combobox>
                    </kendo-textbox-container>
                  </div>
                  <div class="col-md-4 col-xs-12 b-r">
                    <kendo-textbox-container floatingLabel="{{ language.firstDate }}">
                      <kendo-datepicker [format]="'dd.MM.yyyy'" [(ngModel)]="baseDataOne.first_date" name="first_date"
                        class="noPadding">
                      </kendo-datepicker>
                    </kendo-textbox-container>
                  </div>
                </div>
                <div class="col-sm-12" style="text-align: center; padding-top: 30px">
                  <button kendoButton [primary]="true" class="form-button inputTheme-{{ theme }}"
                    *ngIf="operationMode === 'add'" type="submit" [disabled]="baseOne.form.invalid">
                    {{ language.addData }}
                  </button>
                  <button kendoButton [primary]="true" [disabled]="baseOne.form.invalid"
                    class="form-button inputTheme-{{ theme }}" *ngIf="operationMode === 'edit'" type="submit">
                    {{ language.editData }}
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!--BASE TWO-->
          <div class="tab-content" *ngIf="currentTab === 'base_two'">
            <div *ngIf="baseDataTwo === null || baseDataTwo === undefined" style="height: 90vh; text-align: center">
              <div class="lds-ellipsis lds-ellipsis-form">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
              </div>
            </div>
            <div id="profile-tab" class="tab-pane active" *ngIf="baseDataTwo !== undefined && baseDataTwo !== null">
              <form name="base_two" (ngSubmit)="
                  operationMode === 'add'
                    ? addBaseDataTwo()
                    : updateBaseDataTwo()
                " #baseTwo="ngForm" (change)="isDirty()">
                <div class="form-group">
                  <div class="panel-body">
                    <div class="col-md-4 col-xs-12 b-r">
                      <kendo-textbox-container floatingLabel="{{ language.size }}">
                        <input kendoTextBox type="number" [(ngModel)]="baseDataTwo.size" name="size" #size="ngModel" />
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-4 col-xs-12 b-r">
                      <kendo-textbox-container floatingLabel="{{ language.weight }}">
                        <input kendoTextBox type="number" [(ngModel)]="baseDataTwo.weight" name="weight"
                          #weight="ngModel" />
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-4 col-xs-12 b-r">
                      <kendo-textbox-container floatingLabel="{{ language.childs }}">
                        <input kendoTextBox type="number" [(ngModel)]="baseDataTwo.childs" name="childs"
                          #childs="ngModel" />
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-4 col-xs-12 b-r">
                      <kendo-textbox-container floatingLabel="{{ language.notes }}">
                        <textarea kendoTextArea type="text" [(ngModel)]="baseDataTwo.notes" name="notes"
                          style="width: 95%" #notes="ngModel"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-4 col-xs-12 b-r">
                      <kendo-textbox-container floatingLabel="{{ language.profession }}">
                        <textarea kendoTextArea type="text" [(ngModel)]="baseDataTwo.profession" name="profession"
                          style="width: 95%" #profession="ngModel"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-4 col-xs-12 b-r">
                      <kendo-textbox-container floatingLabel="{{ language.useful }}">
                        <textarea kendoTextArea type="text" [(ngModel)]="baseDataTwo.useful" name="useful"
                          style="width: 95%" #useful="ngModel"></textarea>
                      </kendo-textbox-container>
                    </div>
                  </div>
                </div>
                <!-- ./remember-row -->
                <div class="form-group" style="text-align: center">
                  <button kendoButton [primary]="true" class="form-button inputTheme-{{ theme }}"
                    *ngIf="operationMode === 'add'" type="submit" [disabled]="baseTwo.form.invalid">
                    {{ language.addData }}
                  </button>
                  <button kendoButton [primary]="true" [disabled]="baseTwo.form.invalid"
                    class="form-button inputTheme-{{ theme }}" *ngIf="operationMode === 'edit'" type="submit">
                    {{ language.editData }}
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!--PHYSICAL ILLNESS-->
          <div class="tab-content" *ngIf="currentTab === 'physical_illness'">
            <div *ngIf="physicalIllness === null || physicalIllness === undefined"
              style="height: 90vh; text-align: center">
              <div class="lds-ellipsis lds-ellipsis-form">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
              </div>
            </div>
            <div id="profile-tab" class="tab-pane active"
              *ngIf="physicalIllness !== undefined && physicalIllness !== null">
              <form name="loginForm" class="loginForm" (ngSubmit)="
                  operationMode === 'add'
                    ? addPhysicalIllness(data)
                    : updatePhysicalIllness(data)
                " #physicalForm="ngForm" (change)="isDirty()">
                <div class="form-group">
                  <div class="panel-body">
                    <div class="col-md-12 col-xs-12 mb-1">
                      <kendo-textbox-container floatingLabel="{{ language.internalOrgans }}">
                        <textarea kendoTextArea [(ngModel)]="physicalIllness.internal_organs"
                          name="internal_organs"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-12 col-xs-12 mb-1">
                      <kendo-textbox-container floatingLabel="{{ language.operations }}">
                        <textarea kendoTextArea [(ngModel)]="physicalIllness.operations" name="operations"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-12 col-xs-12 mb-1">
                      <kendo-textbox-container floatingLabel="{{ language.previousFindidngs }}">
                        <textarea kendoTextArea [(ngModel)]="physicalIllness.previous_findings"
                          name="previous_findings"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-12 col-xs-12 mb-1">
                      <kendo-textbox-container floatingLabel="{{ language.medicament }}">
                        <textarea kendoTextArea [(ngModel)]="physicalIllness.medicament" name="medicament"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-12 col-xs-12 mb-1">
                      <kendo-textbox-container floatingLabel="{{ language.allergies }}">
                        <textarea kendoTextArea [(ngModel)]="physicalIllness.allergies" name="allergies"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-12 col-xs-12 mb-1">
                      <kendo-textbox-container floatingLabel="{{ language.skinSensitivity }}">
                        <textarea kendoTextArea [(ngModel)]="physicalIllness.skin_sensitivity"
                          name="skin_sensitivity"></textarea>
                      </kendo-textbox-container>
                    </div>
                    <div class="col-md-12 col-xs-12 mb-1">
                      <kendo-textbox-container floatingLabel="{{ language.pregnancy }}">
                        <textarea kendoTextArea [(ngModel)]="physicalIllness.pregnancy" name="pregnancy"></textarea>
                      </kendo-textbox-container>
                    </div>
                  </div>
                </div>
                <div class="form-group" style="text-align: center">
                  <button kendoButton [primary]="true" class="form-button inputTheme-{{ theme }}"
                    *ngIf="operationMode === 'add'" type="submit" [disabled]="physicalForm.form.invalid">
                    {{ language.addData }}
                  </button>
                  <button kendoButton [primary]="true" [disabled]="physicalForm.form.invalid"
                    class="form-button inputTheme-{{ theme }}" *ngIf="operationMode === 'edit'" type="submit">
                    {{ language.editData }}
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </modal-content>
      <modal-footer class="modal-footer-none"> </modal-footer>
    </modal>

    <modal #document_edit modalClass="modal-lg">
      <modal-header>
        <h4>{{ getTranslate(operationMode) }}</h4>
      </modal-header>
      <modal-content>
        <form *ngIf="documentItem" name="loginForm" class="loginForm" (ngSubmit)="updateDocument()"
          #documentEditForm="ngForm">
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.name }}">
              <input kendoTextBox type="text" class="col-xs-12" [(ngModel)]="documentItem.name" name="name" required />
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12">
            <kendo-textbox-container floatingLabel="{{ language.date }}">
              <kendo-datepicker [format]="'dd.MM.yyyy'" [(ngModel)]="documentItem.date" name="date" class="noPadding">
              </kendo-datepicker>
            </kendo-textbox-container>
          </div>
          <div class="col-md-12 col-xs-12" style="padding-top: 10px">
            <kendo-textbox-container floatingLabel="{{ language.documentDescription }}">
              <textarea kendoTextArea [(ngModel)]="documentItem.description" name="description"
                [autoSize]="true"></textarea>
            </kendo-textbox-container>
          </div>
          <div class="form-group" style="text-align: center">
            <button kendoButton [primary]="true" class="form-button" [disabled]="documentEditForm.form.invalid"
              type="submit">
              {{ language.updateDocument }}
            </button>
          </div>
        </form>
      </modal-content>
      <modal-footer class="modal-footer-none"> </modal-footer>
    </modal>

    <modal #settingsWindow modalClass="modal-lg">
      <modal-header>
        <span>{{ language.settings }}</span>
        <button type="button" class="custom-close close" data-dismiss="modal" (click)="settingsWindow.close()">
          <span aria-hidden="true">&times;</span>
        </button>
      </modal-header>
      <modal-content>
        <form name="loginForm" class="loginForm" (ngSubmit)="updateCustomer(customer); settingsWindow.open()"
          #documentEditForm="ngForm">
          <div class="col-md-12 col-xs-12">
            <input type="checkbox" kendoCheckBox [(ngModel)]="data.isConfirm" name="isConfirm" style="margin: 0px" />
            <span style="font-size: 12px">
              {{ language.confirmMessageText }}</span>
          </div>
          <div class="col-md-12 col-xs-12">
            <input type="checkbox" kendoCheckBox [(ngModel)]="data.reminderViaEmail" name="reminderViaEmail"
              style="margin: 0px" />
            <span style="font-size: 12px">
              {{ language.sendReminderViaEMail }}</span>
          </div>
          <div class="col-md-12 col-xs-12">
            <input type="checkbox" kendoCheckBox [(ngModel)]="data.reminderViaSMS" name="reminderViaSMS"
              style="margin: 0px" />
            <span style="font-size: 12px">
              {{ language.sendReminderViaSMS }}</span>
          </div>
          <div class="updateSettings">
            <button kendoButton [primary]="true" class="form-button" type="submit">
              {{ language.updateSettings }}
            </button>
          </div>
        </form>
      </modal-content>
      <modal-footer class="modal-footer-none"> </modal-footer>
    </modal>
  </div>

  <!--Update profile image modal-->
  <modal #chooseImage modalClass="modal-lg">
    <modal-header>
      <h4>{{ language.chooseImage }}</h4>
    </modal-header>
    <modal-content>
      <form name="updateImageForm" (ngSubmit)="submitPhoto()">
        <input id="file-upload" type="file" name="updateImageInput" class="choose-image-input"
          (input)="fileChoosen($event)" />
        <label for="file-upload" class="custom-file-upload">
          {{ language.chooseFile }}
        </label>
        <span *ngIf="!isFileChoosen" class="choose-image-label">{{ language.chooseImage }}</span>
        <span *ngIf="isFileChoosen" class="choose-image-label">{{ fileName }}</span>
        <div><span>{{ language.maximumImageSize }}</span></div>
        <button class="update-image-submit-btn" type="submit">
          {{ language.submitImage }}
        </button>
      </form>
    </modal-content>
  </modal>
</div>